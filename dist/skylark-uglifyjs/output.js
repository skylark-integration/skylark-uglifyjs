/**
 * skylark-uglifyjs - A version of uglifyjs that ported to running on skylarkjs.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["./utils","./ast","./parse"],function(O,q,F){"use strict";const{defaults:K,makePredicate:Z,noop:N,return_false:U,return_true:Q}=O,{AST_Array:t,AST_Arrow:$,AST_AsyncArrow:P,AST_AsyncDefun:R,AST_AsyncFunction:j,AST_AsyncGeneratorDefun:I,AST_AsyncGeneratorFunction:M,AST_Assign:e,AST_Await:o,AST_Binary:W,AST_BlockStatement:i,AST_Break:L,AST_Call:s,AST_Case:B,AST_Catch:G,AST_Class:a,AST_ClassExpression:H,AST_ClassField:V,AST_ClassGetter:X,AST_ClassInit:nn,AST_ClassMethod:tn,AST_ClassProperty:en,AST_ClassSetter:rn,AST_Conditional:Y,AST_Const:r,AST_Constant:on,AST_Continue:sn,AST_Debugger:an,AST_Default:cn,AST_DefaultValue:c,AST_Definitions:pn,AST_DestructuredArray:un,AST_DestructuredKeyVal:fn,AST_DestructuredObject:ln,AST_Destructured:hn,AST_Directive:_n,AST_Do:mn,AST_Dot:dn,AST_EmptyStatement:p,AST_Exit:vn,AST_ExportDeclaration:Sn,AST_ExportDefault:An,AST_ExportForeign:gn,AST_ExportReferences:Tn,AST_Finally:bn,AST_For:yn,AST_ForAwaitOf:xn,AST_ForEnumeration:wn,AST_ForIn:En,AST_ForOf:kn,AST_Function:Dn,AST_GeneratorDefun:Cn,AST_GeneratorFunction:On,AST_Hole:qn,AST_If:Fn,AST_Import:$n,AST_IterationStatement:Pn,AST_Jump:Rn,AST_LabeledStatement:jn,AST_Lambda:In,AST_Let:Mn,AST_New:u,AST_Node:z,AST_Number:Ln,AST_Object:Bn,AST_ObjectGetter:Gn,AST_ObjectKeyVal:Hn,AST_ObjectMethod:Vn,AST_ObjectProperty:Nn,AST_ObjectSetter:Un,AST_PropAccess:f,AST_RegExp:Wn,AST_Return:Yn,AST_Scope:zn,AST_Sequence:Jn,AST_SimpleStatement:Kn,AST_Spread:Zn,AST_Statement:Qn,AST_StatementWithBody:Xn,AST_String:nt,AST_Sub:tt,AST_Switch:et,AST_SwitchBranch:it,AST_Symbol:l,AST_SymbolExport:rt,AST_SymbolFunarg:ot,AST_SymbolImport:st,AST_Template:h,AST_Throw:at,AST_Toplevel:ct,AST_Try:pt,AST_Unary:_,AST_UnaryPostfix:ut,AST_UnaryPrefix:ft,AST_Var:lt,AST_VarDef:ht,AST_While:_t,AST_With:mt,AST_Yield:J,TreeWalker:dt,is_arrow:vt,is_generator:St,is_async:At,first_in_statement:gt,root_expr:Tt}=q,{is_identifier_char:bt,is_identifier_string:yt,is_surrogate_pair_head:xt,is_surrogate_pair_tail:wt,PRECEDENCE:Et,RESERVED_WORDS:kt}=F;function Dt(n){return"comment2"==n.type&&/@preserve|@license|@cc_on/i.test(n.value)}function Ct(c){c=K(c,{annotations:!1,ascii_only:!1,beautify:!1,braces:!1,comments:!1,extendscript:!1,galio:!1,ie:!1,indent_level:4,indent_start:0,inline_script:!0,keep_quoted_props:!1,max_line_len:!1,preamble:null,preserve_line:!1,quote_keys:!1,quote_style:0,semicolons:!0,shebang:!0,source_map:null,v8:!1,webkit:!1,width:80,wrap_iife:!1},!0);var t,p=U;function n(n){if("number"==typeof n)return new Array(n+1).join(" ");if(!n)return"";if(/^\s*$/.test(n))return n;throw new Error("unsupported indentation: "+JSON.stringify(""+n))}c.comments&&(t=c.comments,"string"==typeof c.comments&&/^\/.*\/[a-zA-Z]*$/.test(c.comments)&&(P=c.comments.lastIndexOf("/"),t=new RegExp(c.comments.substr(1,P-1),c.comments.substr(P+1))),p=t instanceof RegExp?function(n){return"comment5"!=n.type&&t.test(n.value)}:"function"==typeof t?function(n){return"comment5"!=n.type&&t(this,n)}:"some"===t?Dt:Q);var r,o,s,a,u,f,e,l=0,h=1,i=n(c.indent_start),_=n(c.indent_level),j=_.length+1>>1,m=0,d=!0,v=c.source_map&&[],S=!1,A=!1,g="";function T(){u=a=!1,e=[];var n=f;return f=r="",n}T();var b=c.ascii_only?function(n,e){return(n=e?n.replace(/[\ud800-\udbff][\udc00-\udfff]/g,function(n){return"\\u{"+(n.charCodeAt(0)-55232<<10|n.charCodeAt(1)-56320).toString(16)+"}"}):n).replace(/[\u0000-\u001f\u007f-\uffff]/g,function(n){var t=n.charCodeAt(0).toString(16);if(t.length<=2&&!e){for(;t.length<2;)t="0"+t;return"\\x"+t}for(;t.length<4;)t="0"+t;return"\\u"+t})}:function(n){for(var t="",e=0,i=0;e<n.length;e++){var r=n.charCodeAt(e);if(xt(r)){if(wt(n.charCodeAt(e+1))){e++;continue}}else if(!wt(r))continue;t+=n.slice(i,e)+"\\u"+r.toString(16),i=e+1}return 0==i?n:t+n.slice(i)};function y(n){return"'"+n.replace(/\x27/g,"\\'")+"'"}function x(n){return'"'+n.replace(/\x22/g,'\\"')+'"'}var I=[null,y,x,function(n,t){return("'"==t?y:x)(n)}][c.quote_style]||function(n,t,e,i){return(i<e?y:x)(n)};function w(e,n){var i=0,r=0;return e=e.replace(/[\\\b\f\n\r\v\t\x22\x27\u2028\u2029\0\ufeff]/g,function(n,t){switch(n){case'"':return++i,'"';case"'":return++r,"'";case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\b":return"\\b";case"\f":return"\\f";case"\v":return c.ie?"\\x0B":"\\v";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";case"\ufeff":return"\\ufeff";case"\0":return/[0-9]/.test(e.charAt(t+1))?"\\x00":"\\0"}return n}),I(b(e),n,i,r)}var M=v?function(t,e){v.forEach(function(n){n.line+=t,n.col+=e})}:N,E=v?function(){v.forEach(function(n){c.source_map.add(n.token.file,n.line,n.col,n.token.line,n.token.col,n.name||"name"!=n.token.type?n.name:n.token.value)}),v=[]}:N;function k(n){g+=f.slice(0,m);var t=(f=f.slice(m)).length;for(M(n,t-l),h+=n,l=t;n--;)g+="\n"}var D=c.max_line_len?function(n){d?l>c.max_line_len&&z.warn("Output exceeds {max_line_len} characters",c):(l>c.max_line_len&&(k(1),d=!0),(d||n)&&E())}:N,L=Z("( [ + * / - , .");function C(n,t,e){return bt(n)&&(bt(t)||"\\"==t)||"/"==t&&t==n||("+"==t||"-"==t)&&t==r||"--"==r&&">"==t||"!"==r&&"--"==e||"/"==n&&("in"==e||"instanceof"==e)}var O=c.beautify||c.comments||c.max_line_len||c.preserve_line||c.shebang||!c.semicolons||c.source_map||c.width?function(n){var t=n.charAt(0),e=(S&&t&&(S=!1,"\n"!=t)&&(O("\n"),F()),A&&t&&(A=!1,/[\s;})]/.test(t)||q()),r.slice(-1)),i=(u&&(u=!1,":"==e&&"}"==t||";"!=e&&(!t||";}".indexOf(t)<0))&&((i=L[t])||c.semicolons?(f+=";",l++,d||(D(),d&&!i&&";"==f&&(f="",l=0)),m==f.length-1&&m++):(D(),f+="\n",h++,l=0,/^\s+$/.test(n)&&(u=!0)),c.beautify||(a=!1)),a&&(C(e,t,n)&&(f+=" ",l++),"<"==e&&"!"==n||(a=!1)),s&&(v.push({token:s,name:o,line:h,col:l}),s=!1,d)&&E(),f+=n,n.split(/\r?\n/)),t=i.length-1;h+=t,l+=i[0].length,0<t&&(D(),l=i[t].length),r=n}:function(n){var t=n.charAt(0),e=r.slice(-1);u&&(u=!1,":"==e&&"}"==t||(!t||";}".indexOf(t)<0)&&";"!=e)&&(f+=";",a=!1),a&&(C(e,t,n)&&(f+=" "),"<"==e&&"!"==n||(a=!1)),f+=n,r=n},q=c.beautify?function(){O(" ")}:function(){a=!0},F=c.beautify?function(n){S&&O("\n"),O(n?i.slice(0,-j):i)}:N,B=c.beautify?function(n){var t=i;i+=_,n(),i=t}:function(n){n()},$=c.max_line_len||c.preserve_line?function(){D(),m=f.length,d=!1}:N,G=c.beautify?function(){O("\n"),m=f.length}:$,P=c.beautify?function(){O(";")}:function(){u=!0};var H=v?function(n,t){s=n,o=t}:N;function R(n,t){S||(!n.nlb||!t&&/(^|\n) *$/.test(f)?t&&(A=!0):S=!0)}function V(n){var t=n.value.replace(/[@#]__PURE__/g," ");return(!/^\s*$/.test(t)||/^\s*$/.test(n.value))&&(/comment[134]/.test(n.type)?(O("//"+t),S=!0):"comment2"==n.type&&O("/*"+t+"*/"),1)}return{get:function(){return d||D(!0),g+f},reset:T,indent:F,should_break:c.beautify&&c.width?function(){return l>=c.width}:U,has_parens:function(){return"("==r.slice(-1)},newline:G,print:O,space:q,comma:function(){$(),O(","),$(),q()},colon:function(){O(":"),q()},last:function(){return r},semicolon:P,force_semicolon:function(){u&&O(";"),O(";")},to_utf8:b,print_name:function(n){O(b(n.toString(),!0))},print_string:c.inline_script?function(n,t){n=w(n,t).replace(/<\x2f(script)([>\/\t\n\f\r ])/gi,"<\\/$1$2"),O(n.replace(/\x3c!--/g,"\\x3c!--").replace(/--\x3e/g,"--\\x3e"))}:function(n,t){O(w(n,t))},with_indent:B,with_block:function(n,t){O("{"),G(),B(n),H(t),F(),O("}")},with_parens:function(n){O("("),$(),n(),$(),O(")")},with_square:function(n){O("["),$(),n(),$(),O("]")},add_mapping:H,option:function(n){return c[n]},prepend_comments:c.comments||c.shebang?function(n){var e,i=this;n instanceof vn?e=n.value:n instanceof J&&(e=n.expression);var r,t,o=(o=a(n))||[],s=(e&&((r=new dt(function(n){if(e=n,!((t=r.parent())instanceof W?t.left===e:"Call"==t.TYPE?t.expression===e:t instanceof Y?t.condition===e:t instanceof dn?t.expression===e:t instanceof vn||(t instanceof Jn?t.expressions[0]===e:t instanceof tt?t.expression===e:t instanceof ut||t instanceof J)))return!0;var t,e=a(n);e&&(o=o.concat(e))})).push(n),e.walk(r)),1==h&&0==l&&(0<o.length&&c.shebang&&"comment5"==o[0].type&&(O("#!"+o.shift().value+"\n"),F()),t=c.preamble)&&O(t.replace(/\r\n?|\u2028|\u2029|(^|\S)\s*$/g,"$1\n")),o=o.filter(p,n),!1);function a(n){var t=n.start;if(!t){if(!e)return;n.start=t=new AST_Token}n=t.comments_before;if(!n){if(!e)return;t.comments_before=n=[]}if(n._dumped!==i)return n._dumped=i,n}o.forEach(function(n,t){R(n,t),V(n)&&(s=!0)}),s&&R(n.start,!0)}:N,append_comments:c.comments?function(n,e){var t=n.end;t&&(t=t[e?"comments_before":"comments_after"])&&t._dumped!==this&&(n instanceof Qn||all(t,function(n){return!/comment[134]/.test(n.type)}))&&(t._dumped=this,t.filter(p,n).forEach(function(n,t){R(n,t||!e),V(n)}))}:N,push_node:function(n){e.push(n)},pop_node:c.preserve_line?function(){var n=e.pop();n.start&&n.start.line>h&&k(n.start.line-h)}:function(){e.pop()},parent:function(n){return e[e.length-2-(n||0)]}}}function n(n,t){n.DEFMETHOD("_codegen",t)}function m(n,t){n.DEFMETHOD("needs_parens",t)}function d(n){var t=n.parent();return!n.has_parens()&&gt(n,!1,!0)?this.name||!(t instanceof An):!!(n.option("webkit")&&t instanceof f&&t.expression===this)||!!(n.option("wrap_iife")&&t instanceof s&&t.expression===this)||void 0}function Ot(n){return!n.has_parens()&&gt(n,!0)}function qt(n){n=n.parent();return n instanceof W?"**"==n.operator&&n.left===this:n instanceof s?n.expression===this:n instanceof a||(n instanceof f?n.expression===this:n instanceof h?n.tag===this:void 0)}function Ft(n,t){return!!n.terminal&&(t instanceof s||t instanceof f)&&t.expression===n}function v(n,t){t=t.parent();return t instanceof o||(t instanceof W?!(t instanceof e):t instanceof s?t.expression===n:t instanceof a||(t instanceof Y?t.condition===n:t instanceof f?t.expression===n:t instanceof h?t.tag===n:t instanceof _||void 0))}function $t(n,e,i,t){var r=n.length-1,o=t,t=C;n.forEach(function(n,t){o&&(n instanceof _n?"use asm"==n.value&&(C=!0):n instanceof p||(n instanceof Kn&&n.body instanceof nt&&i.force_semicolon(),o=!1)),n instanceof p||(i.indent(),n.print(i),t==r&&e)||(i.newline(),e&&i.newline())}),C=t}function S(n,t){t.print("{"),t.with_indent(function(){t.append_comments(n,!0)}),t.print("}")}function A(n,t,e){0<n.body.length?t.with_block(function(){$t(n.body,!1,t,e)},n.end):S(n,t)}function Pt(e,i){return function(n){var t=this;n.print(e),n.space(),n.with_parens(function(){t.init.print(n),n.space(),n.print(i),n.space(),t.object.print(n)}),k(t.body,n)}}function g(n,t){var e=n.value;"*"==e||yt(e)?t.print_name(e):t.print_string(e,n.quote)}function Rt(n,e){e.with_parens(function(){n.argnames.forEach(function(n,t){t&&e.comma(),n.print(e)}),n.rest&&(n.argnames.length&&e.comma(),e.print("..."),n.rest.print(e))})}function jt(n,t){var e=1==n.argnames.length&&!n.rest&&n.argnames[0];e instanceof ot&&"yield"!=e.name?e.print(t):Rt(n,t),t.space(),t.print("=>"),t.space(),n.value?n.value.print(t):A(n,t,!0)}function T(n,t){n.name&&(t.space(),n.name.print(t)),Rt(n,t),t.space(),A(n,t,!0)}function It(n){n.print("async"),n.space(),n.print("function"),T(this,n)}function Mt(n){n.print("async"),n.space(),n.print("function*"),T(this,n)}function Lt(n){n.print("function*"),T(this,n)}function Bt(n,t){var e=n.value;At(e)&&(t.print("async"),t.space()),St(e)&&t.print("*"),x(n,t),T(n.value,t)}function b(e,i){return function(n){n.print(e);var t=this[i];t&&(n.space(),t.print(n)),n.semicolon()}}function Gt(n,t){t.newline(),n.body.forEach(function(n){t.indent(),n.print(t),t.newline()})}function Ht(t){return function(e){e.print(t),e.space(),this.definitions.forEach(function(n,t){t&&e.comma(),n.print(e)});var n=e.parent();n instanceof Pn&&n.init===this||e.semicolon()}}function Vt(n,t,e){var i=!1;e&&n.walk(new dt(function(n){return!!i||(n instanceof W&&"in"==n.operator?i=!0:n instanceof zn&&(!vt(n)||!n.value)||void 0)})),n.print(t,i)}function Nt(n,t){if(t.option("annotations")&&n.pure){var e,i=0,r=n;do{if(e=r,(r=t.parent(i++))instanceof s&&r.expression===e)return}while(r instanceof f&&r.expression===e);t.print("/*@__PURE__*/")}}function Ut(n,e){e.with_parens(function(){n.args.forEach(function(n,t){t&&e.comma(),n.print(e)}),e.add_mapping(n.end)})}function y(n,e,i){var t=n.properties;0<t.length?e.with_block(function(){t.forEach(function(n,t){t&&(i||e.print(","),e.newline()),e.indent(),n.print(e)}),e.newline()},n.end):S(n,e)}function x(n,t){var e=n.key;if(e instanceof z)return t.with_square(function(){e.print(t)});var i=n.start&&n.start.quote;if(t.option("quote_keys")||i&&t.option("keep_quoted_props"))t.print_string(e,i);else if(""+ +e==e&&0<=e)t.print(Yt(e));else if(n.private)t.print_name(e);else{if(kt[e]?!t.option("ie"):yt(e))return t.print_name(e),e;t.print_string(e,i)}}function w(t){return function(n){this.static&&(n.print("static"),n.space()),n.print(t),n.space(),x(this,n),T(this.value,n)}}function E(n){var t=n.definition();return t&&t.mangled_name||n.name}function k(n,t){t.option("braces")&&!(n instanceof r||n instanceof Mn)?D(n,t):n instanceof p?t.force_semicolon():(t.space(),n.print(t))}function Wt(n,t){return 0<n.args.length||t.option("beautify")}function Yt(n){for(var t,e,i=n.toString(10).replace(/^0\./,".").replace("e+","e"),r=[i],o=(Math.floor(n)===n&&r.push(n<0?"-0x"+(-n).toString(16).toLowerCase():"0x"+n.toString(16).toLowerCase()),(n=/^\.0+/.exec(i))?(t=n[0].length,e=i.slice(t),r.push(e+"e-"+(e.length+t-1))):(n=/[^0]0+$/.exec(i))?(t=n[0].length-1,r.push(i.slice(0,-t)+"e"+t)):(n=/^(\d)\.(\d+)e(-?\d+)$/.exec(i))&&r.push(n[1]+n[2]+"e"+(n[3]-n[2].length)),r),s=o[0],a=s.length,c=1;c<o.length;++c)o[c].length<a&&(a=(s=o[c]).length);return s}function D(n,t){t.space(),n instanceof p?S(n,t):n instanceof i?n.print(t):t.with_block(function(){t.indent(),n.print(t),t.newline()},n.end)}function zt(n,t){n.forEach(function(n){n.DEFMETHOD("add_source_map",t)})}var C,Jt;return C=!1,z.DEFMETHOD("print",function(n,t){var e=this;function i(){n.prepend_comments(e),e.add_source_map(n),e._codegen(n),n.append_comments(e)}n.push_node(e),t||e.needs_parens(n)?n.with_parens(i):i(),n.pop_node()}),Jt=Ct({inline_script:!1,shebang:!1,width:!1}),z.DEFMETHOD("print_to_string",function(n){return n?(n=Ct(n),this.print(n),n.get()):(this.print(Jt),Jt.reset())}),m(z,U),m(j,d),m(M,d),m(H,d),m(Dn,d),m(On,d),m(Bn,Ot),m(o,qt),m(_,qt),m(Jn,function(n){n=n.parent();return n instanceof t||vt(n)&&n.value===this||n instanceof o||n instanceof W||n instanceof s||n instanceof a||n instanceof en||n instanceof Y||n instanceof c||n instanceof fn||n instanceof An||n instanceof kn||n instanceof Nn||n instanceof f&&n.expression===this||n instanceof Zn||n instanceof h&&n.tag===this||n instanceof _||n instanceof ht||n instanceof J}),m(W,function(n){var t,e,i,r,n=n.parent();return n instanceof o||(n instanceof W?(t=n.operator,e=Et[t],i=this.operator,(r=Et[i])<e||"??"==t&&("&&"==i||"||"==i)||e==r&&this===n["**"==t?"left":"right"]):n instanceof s?n.expression===this:n instanceof a||(n instanceof f?n.expression===this:n instanceof h?n.tag===this:n instanceof _||void 0))}),m(f,function(n){n=n.parent();return n instanceof u&&n.expression===this&&"Call"==Tt(this).TYPE||Ft(this,n)}),m(s,function(n){var t=n.parent();if(t instanceof u)return t.expression===this;if(n.option("webkit")&&this.expression instanceof Dn&&t instanceof f&&t.expression===this){n=n.parent(1);if(n instanceof e&&n.left===t)return!0}return Ft(this,t)}),m(u,function(n){return!Wt(this,n)&&((n=n.parent())instanceof s?n.expression===this:n instanceof f||(n instanceof h?n.tag===this:void 0))}),m(Ln,function(n){return!!n.option("galio")&&(n=n.parent())instanceof f&&n.expression===this&&/^0/.test(Yt(this.value))}),m($,function(n){return v(this,n)}),m(e,function(n){return!!v(this,n)||(n.option("v8")?this.left instanceof hn:this.left instanceof ln?Ot(n):void 0)}),m(P,function(n){return v(this,n)}),m(Y,function(n){return v(this,n)||n.option("extendscript")&&n.parent()instanceof Y}),m(J,function(n){return v(this,n)}),n(_n,function(n){var t=this.quote,e=this.value;switch(n.option("quote_style")){case 0:case 2:-1==e.indexOf('"')&&(t='"');break;case 1:-1==e.indexOf("'")&&(t="'")}n.print(t+e+t),n.semicolon()}),n(an,function(n){n.print("debugger"),n.semicolon()}),n(ct,function(n){$t(this.body,!0,n,!0),n.print("")}),n(jn,function(n){this.label.print(n),n.colon(),this.body.print(n)}),n(Kn,function(n){this.body.print(n),n.semicolon()}),n(i,function(n){A(this,n)}),n(p,function(n){n.semicolon()}),n(mn,function(n){var t=this;n.print("do"),D(t.body,n),n.space(),n.print("while"),n.space(),n.with_parens(function(){t.condition.print(n)}),n.semicolon()}),n(_t,function(n){var t=this;n.print("while"),n.space(),n.with_parens(function(){t.condition.print(n)}),k(t.body,n)}),n(yn,function(n){var t=this;n.print("for"),n.space(),n.with_parens(function(){t.init?(t.init instanceof pn?t.init.print(n):Vt(t.init,n,!0),n.print(";"),n.space()):n.print(";"),t.condition?(t.condition.print(n),n.print(";"),n.space()):n.print(";"),t.step&&t.step.print(n)}),k(t.body,n)}),n(xn,Pt("for await","of")),n(En,Pt("for","in")),n(kn,Pt("for","of")),n(mt,function(n){var t=this;n.print("with"),n.space(),n.with_parens(function(){t.expression.print(n)}),k(t.body,n)}),n(Sn,function(n){n.print("export"),n.space(),this.body.print(n)}),n(An,function(n){n.print("export"),n.space(),n.print("default"),n.space();var t=this.body;t.print(n),t instanceof H&&!t.name||t instanceof AST_DefClass||t instanceof AST_LambdaDefinition||t instanceof AST_LambdaExpression&&!t.name&&!vt(t)||n.semicolon()}),n(gn,function(e){var i=this,t=(e.print("export"),e.space(),i.keys.length);function r(n){var t=i.aliases[n],n=i.keys[n];g(n,e),t.value!=n.value&&(e.space(),e.print("as"),e.space(),g(t,e))}0==t?S(i,e):"*"==i.keys[0].value?r(0):e.with_block(function(){e.indent(),r(0);for(var n=1;n<t;n++)e.print(","),e.newline(),e.indent(),r(n);e.newline()},i.end),e.space(),e.print("from"),e.space(),i.path.print(e),e.semicolon()}),n(Tn,function(n){n.print("export"),n.space(),y(this,n),n.semicolon()}),n($n,function(n){var t=this;n.print("import"),n.space(),t.default&&t.default.print(n),t.all&&(t.default&&n.comma(),t.all.print(n)),t.properties&&(t.default&&n.comma(),y(t,n)),(t.all||t.default||t.properties)&&(n.space(),n.print("from"),n.space()),t.path.print(n),n.semicolon()}),n($,function(n){jt(this,n)}),n(P,function(n){n.print("async"),n.space(),jt(this,n)}),n(In,function(n){n.print("function"),T(this,n)}),n(R,It),n(j,It),n(I,Mt),n(M,Mt),n(Cn,Lt),n(On,Lt),n(a,function(n){var t=this;n.print("class"),t.name&&(n.space(),t.name.print(n)),t.extends&&(n.space(),n.print("extends"),n.space(),t.extends.print(n)),n.space(),y(t,n,!0)}),n(V,function(n){this.static&&(n.print("static"),n.space()),x(this,n),this.value&&(n.space(),n.print("="),n.space(),this.value.print(n)),n.semicolon()}),n(X,w("get")),n(rn,w("set")),n(tn,function(n){this.static&&(n.print("static"),n.space()),Bt(this,n)}),n(nn,function(n){n.print("static"),n.space(),A(this.value,n)}),n(Yn,b("return","value")),n(at,b("throw","value")),n(L,b("break","label")),n(sn,b("continue","label")),n(Fn,function(n){var t=this;n.print("if"),n.space(),n.with_parens(function(){t.condition.print(n)}),t.alternative?(function(n,t){var e=n.body;if(t.option("braces")&&!(e instanceof r||e instanceof Mn)||t.option("ie")&&e instanceof mn)return D(e,t);if(!e)return t.force_semicolon();for(;;)if(e instanceof Fn){if(!e.alternative)return D(n.body,t);e=e.alternative}else{if(!(e instanceof Xn))break;e=e.body}k(n.body,t)}(t,n),n.space(),n.print("else"),t.alternative instanceof Fn?(n.space(),t.alternative.print(n)):k(t.alternative,n)):k(t.body,n)}),n(et,function(e){var n=this,i=(e.print("switch"),e.space(),e.with_parens(function(){n.expression.print(e)}),e.space(),n.body.length-1);i<0?S(n,e):e.with_block(function(){n.body.forEach(function(n,t){e.indent(!0),n.print(e),t<i&&0<n.body.length&&e.newline()})},n.end)}),n(cn,function(n){n.print("default:"),Gt(this,n)}),n(B,function(n){n.print("case"),n.space(),this.expression.print(n),n.print(":"),Gt(this,n)}),n(pt,function(n){var t=this;n.print("try"),n.space(),A(t,n),t.bcatch&&(n.space(),t.bcatch.print(n)),t.bfinally&&(n.space(),t.bfinally.print(n))}),n(G,function(n){var t=this;n.print("catch"),t.argname&&(n.space(),n.with_parens(function(){t.argname.print(n)})),n.space(),A(t,n)}),n(bn,function(n){n.print("finally"),n.space(),A(this,n)}),n(r,Ht("const")),n(Mn,Ht("let")),n(lt,Ht("var")),n(ht,function(n){var t;this.name.print(n),this.value&&(n.space(),n.print("="),n.space(),t=(t=n.parent(1))instanceof yn||t instanceof wn,Vt(this.value,n,t))}),n(c,function(n){this.name.print(n),n.space(),n.print("="),n.space(),this.value.print(n)}),n(s,function(n){Nt(this,n),this.expression.print(n),this.optional&&n.print("?."),Ut(this,n)}),n(u,function(n){Nt(this,n),n.print("new"),n.space(),this.expression.print(n),Wt(this,n)&&Ut(this,n)}),n(Jn,function(e){this.expressions.forEach(function(n,t){0<t&&(e.comma(),e.should_break())&&(e.newline(),e.indent()),n.print(e)})}),n(dn,function(n){var t=this,e=t.expression,i=(e.print(n),t.property);n.option("ie")&&kt[i]||t.quoted&&n.option("keep_quoted_props")?(t.optional&&n.print("?."),n.with_square(function(){n.add_mapping(t.end),n.print_string(i)})):(e instanceof Ln&&!/[ex.)]/i.test(n.last())&&n.print("."),n.print(t.optional?"?.":"."),n.add_mapping(t.end),n.print_name(i))}),n(tt,function(n){var t=this;t.expression.print(n),t.optional&&n.print("?."),n.with_square(function(){t.property.print(n)})}),n(Zn,function(n){n.print("..."),this.expression.print(n)}),n(ft,function(n){var t=this.operator,e=this.expression;n.print(t),(/^[a-z]/i.test(t)||/[+-]$/.test(t)&&e instanceof ft&&/^[+-]/.test(e.operator))&&n.space(),e.print(n)}),n(ut,function(n){this.expression.print(n),n.add_mapping(this.end),n.print(this.operator)}),n(W,function(n){this.left.print(n),n.space(),n.print(this.operator),n.space(),this.right.print(n)}),n(Y,function(n){this.condition.print(n),n.space(),n.print("?"),n.space(),this.consequent.print(n),n.space(),n.colon(),this.alternative.print(n)}),n(o,function(n){n.print("await"),n.space(),this.expression.print(n)}),n(J,function(n){n.print(this.nested?"yield*":"yield"),this.expression&&(n.space(),this.expression.print(n))}),n(t,function(e){var n=this.elements,i=n.length;e.with_square(0<i?function(){e.space(),n.forEach(function(n,t){t&&e.comma(),n.print(e),t===i-1&&n instanceof qn&&e.comma()}),e.space()}:N)}),n(un,function(e){var n=this.elements,t=n.length,i=this.rest;e.with_square(t||i?function(){e.space(),n.forEach(function(n,t){t&&e.comma(),n.print(e)}),i?(t&&e.comma(),e.print("..."),i.print(e)):n[t-1]instanceof qn&&e.comma(),e.space()}:N)}),n(fn,function(n){var t=x(this,n),e=this.value;if(t)if(e instanceof c){if(e.name instanceof l&&t==E(e.name))return n.space(),n.print("="),n.space(),void e.value.print(n)}else if(e instanceof l&&t==E(e))return;n.colon(),e.print(n)}),n(ln,function(e){var n=this.properties,t=n.length,i=this.rest;t||i?e.with_block(function(){n.forEach(function(n,t){t&&(e.print(","),e.newline()),e.indent(),n.print(e)}),i&&(t&&(e.print(","),e.newline()),e.indent(),e.print("..."),i.print(e)),e.newline()},this.end):S(this,e)}),n(Bn,function(n){y(this,n)}),n(Hn,function(n){x(this,n),n.colon(),this.value.print(n)}),n(Vn,function(n){Bt(this,n)}),n(Gn,w("get")),n(Un,w("set")),n(l,function(n){n.print_name(E(this))}),n(rt,function(n){var t=E(this),e=(n.print_name(t),this.alias);e.value!=t&&(n.space(),n.print("as"),n.space(),g(e,n))}),n(st,function(n){var t=E(this),e=this.key;e.value&&e.value!=t&&(g(e,n),n.space(),n.print("as"),n.space()),n.print_name(t)}),n(qn,N),n(h,function(n){var t=this;t.tag&&t.tag.print(n),n.print("`");for(var e=0;e<t.expressions.length;e++)n.print(t.strings[e]),n.print("${"),t.expressions[e].print(n),n.print("}");n.print(t.strings[e]),n.print("`")}),n(on,function(n){n.print(""+this.value)}),n(nt,function(n){n.print_string(this.value,this.quote)}),n(Ln,function(n){var t=this.start;C&&t&&null!=t.raw?n.print(t.raw):n.print(Yt(this.value))}),n(Wn,function(n){var t=this.value,e=t.toString(),i=e.lastIndexOf("/");t.raw_source?e="/"+t.raw_source+e.slice(i):1==i?e="/(?:)"+e.slice(i):e.indexOf("/",1)<i&&(e="/"+e.slice(1,i).replace(/\\\\|[^/]?\//g,function(n){return"\\"==n[0]?n:n.slice(0,-1)+"\\/"})+e.slice(i)),n.print(n.to_utf8(e).replace(/\\(?:\0(?![0-9])|[^\0])/g,function(n){switch(n[1]){case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\t";case"\b":return"\b";case"\f":return"\f";case"\0":return"\0";case"\v":return"\v";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return n}}).replace(/[\n\r\u2028\u2029]/g,function(n){switch(n){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}}))}),zt([z,jn],N),zt([t,o,i,G,on,an,pn,hn,_n,bn,Rn,In,u,Bn,Zn,Xn,l,et,it,pt,ft,J],function(n){n.add_mapping(this.start)}),zt([en,fn,Nn],function(n){"string"==typeof this.key&&n.add_mapping(this.start,this.key)}),{OutputStream:Ct}});
//# sourceMappingURL=sourcemaps/output.js.map
