/**
 * skylark-uglifyjs - A version of uglifyjs that ported to running on skylarkjs.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["./utils","./ast","./parse"],function(n,t,e){"use strict";const{defaults:i,makePredicate:r,noop:s,return_false:o,return_true:a}=n,{AST_Array:c,AST_Arrow:p,AST_AsyncArrow:u,AST_AsyncDefun:f,AST_AsyncFunction:l,AST_AsyncGeneratorDefun:h,AST_AsyncGeneratorFunction:_,AST_Assign:m,AST_Await:d,AST_BigInt:S,AST_Binary:v,AST_BlockStatement:A,AST_Break:T,AST_Call:g,AST_Case:y,AST_Catch:b,AST_Chain:x,AST_Class:w,AST_ClassExpression:E,AST_ClassField:k,AST_ClassGetter:D,AST_ClassInit:C,AST_ClassMethod:O,AST_ClassPrivateProperty:q,AST_ClassProperty:P,AST_ClassSetter:F,AST_ClassStaticBlock:$,AST_ConciseMethod:M,AST_Conditional:R,AST_Const:I,AST_Constant:j,AST_Continue:B,AST_Debugger:L,AST_Default:G,AST_DefaultAssign:H,AST_DefaultValue:N,AST_Definitions:V,AST_Defun:U,AST_Destructuring:W,AST_DestructuredArray:Y,AST_DestructuredKeyVal:z,AST_DestructuredObject:J,AST_Destructured:K,AST_Directive:Z,AST_Do:Q,AST_Dot:X,AST_DotHash:nn,AST_EmptyStatement:tn,AST_Exit:en,AST_Expansion:rn,AST_Export:sn,AST_ExportDeclaration:on,AST_ExportDefault:an,AST_ExportForeign:cn,AST_ExportReferences:pn,AST_Finally:un,AST_For:fn,AST_ForAwaitOf:ln,AST_ForEnumeration:hn,AST_ForIn:_n,AST_ForOf:mn,AST_Function:dn,AST_GeneratorDefun:Sn,AST_GeneratorFunction:vn,AST_Hole:An,AST_If:Tn,AST_Import:gn,AST_ImportMeta:yn,AST_IterationStatement:bn,AST_Jump:xn,AST_LabeledStatement:wn,AST_Lambda:En,AST_Let:kn,AST_LoopControl:Dn,AST_NameMapping:Cn,AST_New:On,AST_NewTarget:qn,AST_Node:Pn,AST_Number:Fn,AST_Object:$n,AST_ObjectGetter:Mn,AST_ObjectKeyVal:Rn,AST_ObjectMethod:In,AST_ObjectProperty:jn,AST_ObjectSetter:Bn,AST_PrefixedTemplateString:Ln,AST_PropAccess:Gn,AST_PrivateGetter:Hn,AST_PrivateMethod:Nn,AST_PrivateSetter:Vn,AST_PrivateIn:Un,AST_RegExp:Wn,AST_Return:Yn,AST_Scope:zn,AST_Sequence:Jn,AST_SimpleStatement:Kn,AST_Spread:Zn,AST_Statement:Qn,AST_StatementWithBody:Xn,AST_String:nt,AST_Sub:tt,AST_Super:et,AST_Switch:it,AST_SwitchBranch:rt,AST_Symbol:st,AST_SymbolClassProperty:ot,AST_SymbolExport:at,AST_SymbolFunarg:ct,AST_SymbolImport:pt,AST_SymbolMethod:ut,AST_SymbolPrivateProperty:ft,AST_SymbolRef:lt,AST_Template:ht,AST_TemplateSegment:_t,AST_TemplateString:mt,AST_This:dt,AST_Throw:St,AST_Toplevel:vt,AST_Try:At,AST_TryBlock:Tt,AST_Unary:gt,AST_UnaryPostfix:yt,AST_UnaryPrefix:bt,AST_Var:xt,AST_VarDef:wt,AST_While:Et,AST_With:kt,AST_Yield:Dt,TreeWalker:Ct,is_arrow:Ot,is_generator:qt,is_async:Pt,walk:Ft,walk_abort:$t,first_in_statement:Mt,root_expr:Rt}=t,{is_identifier_char:It,is_identifier_string:jt,is_surrogate_pair_head:Bt,is_surrogate_pair_tail:Lt,PRECEDENCE:Gt,RESERVED_WORDS:Ht}=e;function Nt(n){return"comment2"==n.type&&/@preserve|@license|@cc_on/i.test(n.value)}function Vt(n){n=i(n,{annotations:!1,ascii_only:!1,beautify:!1,braces:!1,comments:!1,extendscript:!1,galio:!1,ie:!1,indent_level:4,indent_start:0,inline_script:!0,keep_quoted_props:!1,max_line_len:!1,preamble:null,preserve_line:!1,quote_keys:!1,quote_style:0,semicolons:!0,shebang:!0,source_map:null,v8:!1,webkit:!1,width:80,wrap_iife:!1},!0);var t=o;if(n.comments){var e=n.comments;if("string"==typeof n.comments&&/^\/.*\/[a-zA-Z]*$/.test(n.comments)){var c=n.comments.lastIndexOf("/");e=new RegExp(n.comments.substr(1,c-1),n.comments.substr(c+1))}t=e instanceof RegExp?function(n){return"comment5"!=n.type&&e.test(n.value)}:"function"==typeof e?function(n){return"comment5"!=n.type&&e(this,n)}:"some"===e?Nt:a}function p(n){if("number"==typeof n)return new Array(n+1).join(" ");if(!n)return"";if(!/^\s*$/.test(n))throw new Error("unsupported indentation: "+JSON.stringify(""+n));return n}var u,f,l,h,_,m,d,S=0,A=1,T=p(n.indent_start),g=p(n.indent_level),y=g.length+1>>1,b=0,x=!0,w=n.source_map&&[],E=!1,k=!1,D="";function C(){u="",h=!1,_=!1,d=[];var n=m;return m="",n}C();var O=n.ascii_only?function(n,t){return t&&(n=n.replace(/[\ud800-\udbff][\udc00-\udfff]/g,function(n){return"\\u{"+(n.charCodeAt(0)-55232<<10|n.charCodeAt(1)-56320).toString(16)+"}"})),n.replace(/[\u0000-\u001f\u007f-\uffff]/g,function(n){var e=n.charCodeAt(0).toString(16);if(e.length<=2&&!t){for(;e.length<2;)e="0"+e;return"\\x"+e}for(;e.length<4;)e="0"+e;return"\\u"+e})}:function(n){for(var t="",e=0,i=0;e<n.length;e++){var r=n.charCodeAt(e);if(Bt(r)){if(Lt(n.charCodeAt(e+1))){e++;continue}}else if(!Lt(r))continue;t+=n.slice(i,e)+"\\u"+r.toString(16),i=e+1}return 0==i?n:t+n.slice(i)};function q(n){return"'"+n.replace(/\x27/g,"\\'")+"'"}function P(n){return'"'+n.replace(/\x22/g,'\\"')+'"'}var F=[null,q,P,function(n,t){return"'"==t?q(n):P(n)}][n.quote_style]||function(n,t,e,i){return e>i?q(n):P(n)};function $(t,e){var i=0,r=0;return t=t.replace(/[\\\b\f\n\r\v\t\x22\x27\u2028\u2029\0\ufeff]/g,function(e,s){switch(e){case'"':return++i,'"';case"'":return++r,"'";case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\b":return"\\b";case"\f":return"\\f";case"\v":return n.ie?"\\x0B":"\\v";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";case"\ufeff":return"\\ufeff";case"\0":return/[0-9]/.test(t.charAt(s+1))?"\\x00":"\\0"}return e}),F(O(t),e,i,r)}var M=w?function(n,t){w.forEach(function(e){e.line+=n,e.col+=t})}:s,I=w?function(){w.forEach(function(t){n.source_map.add(t.token.file,t.line,t.col,t.token.line,t.token.col,t.name||"name"!=t.token.type?t.name:t.token.value)}),w=[]}:s;function j(n){D+=m.slice(0,b);var t=(m=m.slice(b)).length;for(M(n,t-S),A+=n,S=t;n--;)D+="\n"}var B=n.max_line_len?function(t){x?S>n.max_line_len&&Pn.warn("Output exceeds {max_line_len} characters",n):(S>n.max_line_len&&(j(1),x=!0),(x||t)&&I())}:s,L=r("( [ + * / - , .");function G(n,t,e){return It(n)&&(It(t)||"\\"==t)||"/"==t&&t==n||("+"==t||"-"==t)&&t==u||"--"==u&&">"==t||"!"==u&&"--"==e||"/"==n&&("in"==e||"instanceof"==e)}var H=n.beautify||n.comments||n.max_line_len||n.preserve_line||n.shebang||!n.semicolons||n.source_map||n.width?function(t){var e=t.charAt(0);E&&e&&(E=!1,"\n"!=e&&(H("\n"),V())),k&&e&&(k=!1,/[\s;})]/.test(e)||N());var i=u.slice(-1);if(_&&(_=!1,":"==i&&"}"==e||";"!=i&&(!e||";}".indexOf(e)<0))){var r=L[e];r||n.semicolons?(m+=";",S++,x||(B(),x&&!r&&";"==m&&(m="",S=0)),b==m.length-1&&b++):(B(),m+="\n",A++,S=0,/^\s+$/.test(t)&&(_=!0)),n.beautify||(h=!1)}h&&(G(i,e,t)&&(m+=" ",S++),"<"==i&&"!"==t||(h=!1)),l&&(w.push({token:l,name:f,line:A,col:S}),l=!1,x&&I()),m+=t;var s=t.split(/\r?\n/),o=s.length-1;A+=o,S+=s[0].length,o>0&&(B(),S=s[o].length),u=t}:function(n){var t=n.charAt(0),e=u.slice(-1);_&&(_=!1,(":"==e&&"}"==t||(!t||";}".indexOf(t)<0)&&";"!=e)&&(m+=";",h=!1)),h&&(G(e,t,n)&&(m+=" "),"<"==e&&"!"==n||(h=!1)),m+=n,u=n},N=n.beautify?function(){H(" ")}:function(){h=!0},V=n.beautify?function(n){E&&H("\n"),H(n?T.slice(0,-y):T)}:s,U=n.beautify?function(n){var t=T;T+=g,n(),T=t}:function(n){n()},W=n.max_line_len||n.preserve_line?function(){B(),b=m.length,x=!1}:s,Y=n.beautify?function(){H("\n"),b=m.length}:W,z=n.beautify?function(){H(";")}:function(){_=!0};var J=w?function(n,t){l=n,f=t}:s;function K(n,t){E||(!n.nlb||!t&&/(^|\n) *$/.test(m)?t&&(k=!0):E=!0)}function Z(n){var t=n.value.replace(/[@#]__PURE__/g," ");return!(/^\s*$/.test(t)&&!/^\s*$/.test(n.value))&&(/comment[134]/.test(n.type)?(H("//"+t),E=!0):"comment2"==n.type&&H("/*"+t+"*/"),!0)}return{get:function(){return x||B(!0),D+m},reset:C,indent:V,should_break:n.beautify&&n.width?function(){return S>=n.width}:o,has_parens:function(){return"("==u.slice(-1)},newline:Y,print:H,space:N,comma:function(){W(),H(","),W(),N()},colon:function(){H(":"),N()},last:function(){return u},semicolon:z,force_semicolon:function(){_&&H(";"),H(";")},to_utf8:O,print_name:function(n){H(O(n.toString(),!0))},print_string:n.inline_script?function(n,t){n=$(n,t).replace(/<\x2f(script)([>\/\t\n\f\r ])/gi,"<\\/$1$2"),H(n.replace(/\x3c!--/g,"\\x3c!--").replace(/--\x3e/g,"--\\x3e"))}:function(n,t){H($(n,t))},with_indent:U,with_block:function(n,t){H("{"),Y(),U(n),J(t),V(),H("}")},with_parens:function(n){H("("),W(),n(),W(),H(")")},with_square:function(n){H("["),W(),n(),W(),H("]")},add_mapping:J,option:function(t){return n[t]},prepend_comments:n.comments||n.shebang?function(e){var i,r=this;e instanceof en?i=e.value:e instanceof Dt&&(i=e.expression);var s=p(e);if(s||(s=[]),i){var o=new Ct(function(n){if(!function(n,t){return t instanceof v?t.left===n:"Call"==t.TYPE?t.expression===n:t instanceof R?t.condition===n:t instanceof X?t.expression===n:t instanceof en||(t instanceof Jn?t.expressions[0]===n:t instanceof tt?t.expression===n:t instanceof yt||t instanceof Dt||void 0)}(n,o.parent()))return!0;var t=p(n);t&&(s=s.concat(t))});o.push(e),i.walk(o)}if(1==A&&0==S){s.length>0&&n.shebang&&"comment5"==s[0].type&&(H("#!"+s.shift().value+"\n"),V());var a=n.preamble;a&&H(a.replace(/\r\n?|\u2028|\u2029|(^|\S)\s*$/g,"$1\n"))}var c=!1;function p(n){var t=n.start;if(!t){if(!i)return;n.start=t=new AST_Token}var e=t.comments_before;if(!e){if(!i)return;t.comments_before=e=[]}if(e._dumped!==r)return e._dumped=r,e}(s=s.filter(t,e)).forEach(function(n,t){K(n,t),Z(n)&&(c=!0)}),c&&K(e.start,!0)}:s,append_comments:n.comments?function(n,e){var i=n.end;if(i){var r=i[e?"comments_before":"comments_after"];r&&r._dumped!==this&&(n instanceof Qn||all(r,function(n){return!/comment[134]/.test(n.type)}))&&(r._dumped=this,r.filter(t,n).forEach(function(n,t){K(n,t||!e),Z(n)}))}}:s,push_node:function(n){d.push(n)},pop_node:n.preserve_line?function(){var n=d.pop();n.start&&n.start.line>A&&j(n.start.line-A)}:function(){d.pop()},parent:function(n){return d[d.length-2-(n||0)]}}}return function(){function n(n,t){n.DEFMETHOD("_codegen",t)}var t=!1;Pn.DEFMETHOD("print",function(n,t){var e=this;function i(){n.prepend_comments(e),e.add_source_map(n),e._codegen(n),n.append_comments(e)}n.push_node(e),t||e.needs_parens(n)?n.with_parens(i):i(),n.pop_node()});var e=Vt({inline_script:!1,shebang:!1,width:!1});function i(n,t){n.DEFMETHOD("needs_parens",t)}function r(n){var t=n.parent();return!n.has_parens()&&Mt(n,!1,!0)?this.name||!(t instanceof an):!!(n.option("webkit")&&t instanceof Gn&&t.expression===this)||(!!(n.option("wrap_iife")&&t instanceof g&&t.expression===this)||void 0)}function a(n){return!n.has_parens()&&Mt(n,!0)}function S(n){var t=n.parent();return t instanceof v?"**"==t.operator&&t.left===this:t instanceof g?t.expression===this:t instanceof w||(t instanceof Gn?t.expression===this:t instanceof ht?t.tag===this:void 0)}function x(n,t){return!!n.terminal&&((t instanceof g||t instanceof Gn)&&t.expression===n)}function q(n,t){var e=t.parent();return e instanceof d||(e instanceof v?!(e instanceof m):e instanceof g?e.expression===n:e instanceof w||(e instanceof R?e.condition===n:e instanceof Gn?e.expression===n:e instanceof ht?e.tag===n:e instanceof gt||void 0))}function $(n,e,i,r){var s=n.length-1,o=r,a=t;n.forEach(function(n,r){o&&(n instanceof Z?"use asm"==n.value&&(t=!0):n instanceof tn||(n instanceof Kn&&n.body instanceof nt&&i.force_semicolon(),o=!1)),n instanceof tn||(i.indent(),n.print(i),r==s&&e||(i.newline(),e&&i.newline()))}),t=a}function M(n,t){t.print("{"),t.with_indent(function(){t.append_comments(n,!0)}),t.print("}")}function H(n,t,e){n.body.length>0?t.with_block(function(){$(n.body,!1,t,e)},n.end):M(n,t)}function U(n,t){return function(e){var i=this;e.print(n),e.space(),e.with_parens(function(){i.init.print(e),e.space(),e.print(t),e.space(),i.object.print(e)}),ft(i.body,e)}}function W(n,t){var e=n.value;"*"==e||jt(e)?t.print_name(e):t.print_string(e,n.quote)}function nn(n,t){t.with_parens(function(){n.argnames.forEach(function(n,e){e&&t.comma(),n.print(t)}),n.rest&&(n.argnames.length&&t.comma(),t.print("..."),n.rest.print(t))})}function en(n,t){var e=1==n.argnames.length&&!n.rest&&n.argnames[0];e instanceof ct&&"yield"!=e.name?e.print(t):nn(n,t),t.space(),t.print("=>"),t.space(),n.value?n.value.print(t):H(n,t,!0)}function rn(n,t){n.name&&(t.space(),n.name.print(t)),nn(n,t),t.space(),H(n,t,!0)}function sn(n){n.print("async"),n.space(),n.print("function"),rn(this,n)}function yn(n){n.print("async"),n.space(),n.print("function*"),rn(this,n)}function Dn(n){n.print("function*"),rn(this,n)}function Cn(n,t){var e=n.value;Pt(e)&&(t.print("async"),t.space()),qt(e)&&t.print("*"),et(n,t),rn(n.value,t)}function qn(n,t){return function(e){e.print(n);var i=this[t];i&&(e.space(),i.print(e)),e.semicolon()}}function Ln(n,t){t.newline(),n.body.forEach(function(n){t.indent(),n.print(t),t.newline()})}function Hn(n){return function(t){t.print(n),t.space(),this.definitions.forEach(function(n,e){e&&t.comma(),n.print(t)});var e=t.parent();e instanceof bn&&e.init===this||t.semicolon()}}function Nn(n,t,e){var i=!1;e&&n.walk(new Ct(function(n){return!!i||(n instanceof v&&"in"==n.operator?i=!0:n instanceof zn&&(!Ot(n)||!n.value)||void 0)})),n.print(t,i)}function Vn(n,t){if(t.option("annotations")&&n.pure){var e,i=0,r=n;do{if(e=r,(r=t.parent(i++))instanceof g&&r.expression===e)return}while(r instanceof Gn&&r.expression===e);t.print("/*@__PURE__*/")}}function Un(n,t){t.with_parens(function(){n.args.forEach(function(n,e){e&&t.comma(),n.print(t)}),t.add_mapping(n.end)})}function Qn(n,t,e){var i=n.properties;i.length>0?t.with_block(function(){i.forEach(function(n,i){i&&(e||t.print(","),t.newline()),t.indent(),n.print(t)}),t.newline()},n.end):M(n,t)}function et(n,t){var e=n.key;if(e instanceof Pn)return t.with_square(function(){e.print(t)});var i=n.start&&n.start.quote;if(t.option("quote_keys")||i&&t.option("keep_quoted_props"))t.print_string(e,i);else if(""+ +e==e&&e>=0)t.print(_t(e));else if(n.private)t.print_name(e);else{if(Ht[e]?!t.option("ie"):jt(e))return t.print_name(e),e;t.print_string(e,i)}}function ot(n){return function(t){this.static&&(t.print("static"),t.space()),t.print(n),t.space(),et(this,t),rn(this.value,t)}}function ut(n){var t=n.definition();return t&&t.mangled_name||n.name}function ft(n,t){t.option("braces")&&!(n instanceof I||n instanceof kn)?mt(n,t):n instanceof tn?t.force_semicolon():(t.space(),n.print(t))}function lt(n,t){return n.args.length>0||t.option("beautify")}function _t(n){var t,e,i,r=n.toString(10).replace(/^0\./,".").replace("e+","e"),s=[r];return Math.floor(n)===n&&(n<0?s.push("-0x"+(-n).toString(16).toLowerCase()):s.push("0x"+n.toString(16).toLowerCase())),(t=/^\.0+/.exec(r))?(e=t[0].length,i=r.slice(e),s.push(i+"e-"+(i.length+e-1))):(t=/[^0]0+$/.exec(r))?(e=t[0].length-1,s.push(r.slice(0,-e)+"e"+e)):(t=/^(\d)\.(\d+)e(-?\d+)$/.exec(r))&&s.push(t[1]+t[2]+"e"+(t[3]-t[2].length)),function(n){for(var t=n[0],e=t.length,i=1;i<n.length;++i)n[i].length<e&&(e=(t=n[i]).length);return t}(s)}function mt(n,t){t.space(),n instanceof tn?M(n,t):n instanceof A?n.print(t):t.with_block(function(){t.indent(),n.print(t),t.newline()},n.end)}function dt(n,t){n.forEach(function(n){n.DEFMETHOD("add_source_map",t)})}Pn.DEFMETHOD("print_to_string",function(n){if(n){var t=Vt(n);return this.print(t),t.get()}return this.print(e),e.reset()}),i(Pn,o),i(l,r),i(_,r),i(E,r),i(dn,r),i(vn,r),i($n,a),i(d,S),i(gt,S),i(Jn,function(n){var t=n.parent();return t instanceof c||Ot(t)&&t.value===this||t instanceof d||t instanceof v||t instanceof g||t instanceof w||t instanceof P||t instanceof R||t instanceof N||t instanceof z||t instanceof an||t instanceof mn||t instanceof jn||t instanceof Gn&&t.expression===this||t instanceof Zn||t instanceof ht&&t.tag===this||t instanceof gt||t instanceof wt||t instanceof Dt}),i(v,function(n){var t=n.parent();if(t instanceof d)return!0;if(t instanceof v){var e=t.operator,i=Gt[e],r=this.operator,s=Gt[r];return i>s||"??"==e&&("&&"==r||"||"==r)||i==s&&this===t["**"==e?"left":"right"]}return t instanceof g?t.expression===this:t instanceof w||(t instanceof Gn?t.expression===this:t instanceof ht?t.tag===this:t instanceof gt||void 0)}),i(Gn,function(n){var t=n.parent();return t instanceof On&&t.expression===this&&"Call"==Rt(this).TYPE||x(this,t)}),i(g,function(n){var t=n.parent();if(t instanceof On)return t.expression===this;if(n.option("webkit")&&this.expression instanceof dn&&t instanceof Gn&&t.expression===this){var e=n.parent(1);if(e instanceof m&&e.left===t)return!0}return x(this,t)}),i(On,function(n){if(lt(this,n))return!1;var t=n.parent();return t instanceof g?t.expression===this:t instanceof Gn||(t instanceof ht?t.tag===this:void 0)}),i(Fn,function(n){if(!n.option("galio"))return!1;var t=n.parent();return t instanceof Gn&&t.expression===this&&/^0/.test(_t(this.value))}),i(p,function(n){return q(this,n)}),i(m,function(n){return!!q(this,n)||(n.option("v8")?this.left instanceof K:this.left instanceof J?a(n):void 0)}),i(u,function(n){return q(this,n)}),i(R,function(n){return q(this,n)||n.option("extendscript")&&n.parent()instanceof R}),i(Dt,function(n){return q(this,n)}),n(Z,function(n){var t=this.quote,e=this.value;switch(n.option("quote_style")){case 0:case 2:-1==e.indexOf('"')&&(t='"');break;case 1:-1==e.indexOf("'")&&(t="'")}n.print(t+e+t),n.semicolon()}),n(L,function(n){n.print("debugger"),n.semicolon()}),n(vt,function(n){$(this.body,!0,n,!0),n.print("")}),n(wn,function(n){this.label.print(n),n.colon(),this.body.print(n)}),n(Kn,function(n){this.body.print(n),n.semicolon()}),n(A,function(n){H(this,n)}),n(tn,function(n){n.semicolon()}),n(Q,function(n){var t=this;n.print("do"),mt(t.body,n),n.space(),n.print("while"),n.space(),n.with_parens(function(){t.condition.print(n)}),n.semicolon()}),n(Et,function(n){var t=this;n.print("while"),n.space(),n.with_parens(function(){t.condition.print(n)}),ft(t.body,n)}),n(fn,function(n){var t=this;n.print("for"),n.space(),n.with_parens(function(){t.init?(t.init instanceof V?t.init.print(n):Nn(t.init,n,!0),n.print(";"),n.space()):n.print(";"),t.condition?(t.condition.print(n),n.print(";"),n.space()):n.print(";"),t.step&&t.step.print(n)}),ft(t.body,n)}),n(ln,U("for await","of")),n(_n,U("for","in")),n(mn,U("for","of")),n(kt,function(n){var t=this;n.print("with"),n.space(),n.with_parens(function(){t.expression.print(n)}),ft(t.body,n)}),n(on,function(n){n.print("export"),n.space(),this.body.print(n)}),n(an,function(n){n.print("export"),n.space(),n.print("default"),n.space();var t=this.body;t.print(n),t instanceof E&&!t.name||t instanceof AST_DefClass||t instanceof AST_LambdaDefinition||t instanceof AST_LambdaExpression&&!t.name&&!Ot(t)||n.semicolon()}),n(cn,function(n){var t=this;n.print("export"),n.space();var e=t.keys.length;function i(e){var i=t.aliases[e],r=t.keys[e];W(r,n),i.value!=r.value&&(n.space(),n.print("as"),n.space(),W(i,n))}0==e?M(t,n):"*"==t.keys[0].value?i(0):n.with_block(function(){n.indent(),i(0);for(var t=1;t<e;t++)n.print(","),n.newline(),n.indent(),i(t);n.newline()},t.end),n.space(),n.print("from"),n.space(),t.path.print(n),n.semicolon()}),n(pn,function(n){n.print("export"),n.space(),Qn(this,n),n.semicolon()}),n(gn,function(n){n.print("import"),n.space(),this.default&&this.default.print(n),this.all&&(this.default&&n.comma(),this.all.print(n)),this.properties&&(this.default&&n.comma(),Qn(this,n)),(this.all||this.default||this.properties)&&(n.space(),n.print("from"),n.space()),this.path.print(n),n.semicolon()}),n(p,function(n){en(this,n)}),n(u,function(n){n.print("async"),n.space(),en(this,n)}),n(En,function(n){n.print("function"),rn(this,n)}),n(f,sn),n(l,sn),n(h,yn),n(_,yn),n(Sn,Dn),n(vn,Dn),n(w,function(n){n.print("class"),this.name&&(n.space(),this.name.print(n)),this.extends&&(n.space(),n.print("extends"),n.space(),this.extends.print(n)),n.space(),Qn(this,n,!0)}),n(k,function(n){this.static&&(n.print("static"),n.space()),et(this,n),this.value&&(n.space(),n.print("="),n.space(),this.value.print(n)),n.semicolon()}),n(D,ot("get")),n(F,ot("set")),n(O,function(n){this.static&&(n.print("static"),n.space()),Cn(this,n)}),n(C,function(n){n.print("static"),n.space(),H(this.value,n)}),n(Yn,qn("return","value")),n(St,qn("throw","value")),n(T,qn("break","label")),n(B,qn("continue","label")),n(Tn,function(n){var t=this;n.print("if"),n.space(),n.with_parens(function(){t.condition.print(n)}),t.alternative?(!function(n,t){var e=n.body;if(t.option("braces")&&!(e instanceof I||e instanceof kn)||t.option("ie")&&e instanceof Q)return mt(e,t);if(!e)return t.force_semicolon();for(;;)if(e instanceof Tn){if(!e.alternative)return void mt(n.body,t);e=e.alternative}else{if(!(e instanceof Xn))break;e=e.body}ft(n.body,t)}(t,n),n.space(),n.print("else"),t.alternative instanceof Tn?(n.space(),t.alternative.print(n)):ft(t.alternative,n)):ft(t.body,n)}),n(it,function(n){var t=this;n.print("switch"),n.space(),n.with_parens(function(){t.expression.print(n)}),n.space();var e=t.body.length-1;e<0?M(t,n):n.with_block(function(){t.body.forEach(function(t,i){n.indent(!0),t.print(n),i<e&&t.body.length>0&&n.newline()})},t.end)}),n(G,function(n){n.print("default:"),Ln(this,n)}),n(y,function(n){n.print("case"),n.space(),this.expression.print(n),n.print(":"),Ln(this,n)}),n(At,function(n){n.print("try"),n.space(),H(this,n),this.bcatch&&(n.space(),this.bcatch.print(n)),this.bfinally&&(n.space(),this.bfinally.print(n))}),n(b,function(n){var t=this;n.print("catch"),t.argname&&(n.space(),n.with_parens(function(){t.argname.print(n)})),n.space(),H(t,n)}),n(un,function(n){n.print("finally"),n.space(),H(this,n)}),n(I,Hn("const")),n(kn,Hn("let")),n(xt,Hn("var")),n(wt,function(n){if(this.name.print(n),this.value){n.space(),n.print("="),n.space();var t=n.parent(1),e=t instanceof fn||t instanceof hn;Nn(this.value,n,e)}}),n(N,function(n){this.name.print(n),n.space(),n.print("="),n.space(),this.value.print(n)}),n(g,function(n){Vn(this,n),this.expression.print(n),this.optional&&n.print("?."),Un(this,n)}),n(On,function(n){Vn(this,n),n.print("new"),n.space(),this.expression.print(n),lt(this,n)&&Un(this,n)}),n(Jn,function(n){this.expressions.forEach(function(t,e){e>0&&(n.comma(),n.should_break()&&(n.newline(),n.indent())),t.print(n)})}),n(X,function(n){var t=this,e=t.expression;e.print(n);var i=t.property;n.option("ie")&&Ht[i]||t.quoted&&n.option("keep_quoted_props")?(t.optional&&n.print("?."),n.with_square(function(){n.add_mapping(t.end),n.print_string(i)})):(e instanceof Fn&&!/[ex.)]/i.test(n.last())&&n.print("."),n.print(t.optional?"?.":"."),n.add_mapping(t.end),n.print_name(i))}),n(tt,function(n){var t=this;t.expression.print(n),t.optional&&n.print("?."),n.with_square(function(){t.property.print(n)})}),n(Zn,function(n){n.print("..."),this.expression.print(n)}),n(bt,function(n){var t=this.operator,e=this.expression;n.print(t),(/^[a-z]/i.test(t)||/[+-]$/.test(t)&&e instanceof bt&&/^[+-]/.test(e.operator))&&n.space(),e.print(n)}),n(yt,function(n){this.expression.print(n),n.add_mapping(this.end),n.print(this.operator)}),n(v,function(n){this.left.print(n),n.space(),n.print(this.operator),n.space(),this.right.print(n)}),n(R,function(n){this.condition.print(n),n.space(),n.print("?"),n.space(),this.consequent.print(n),n.space(),n.colon(),this.alternative.print(n)}),n(d,function(n){n.print("await"),n.space(),this.expression.print(n)}),n(Dt,function(n){n.print(this.nested?"yield*":"yield"),this.expression&&(n.space(),this.expression.print(n))}),n(c,function(n){var t=this.elements,e=t.length;n.with_square(e>0?function(){n.space(),t.forEach(function(t,i){i&&n.comma(),t.print(n),i===e-1&&t instanceof An&&n.comma()}),n.space()}:s)}),n(Y,function(n){var t=this.elements,e=t.length,i=this.rest;n.with_square(e||i?function(){n.space(),t.forEach(function(t,e){e&&n.comma(),t.print(n)}),i?(e&&n.comma(),n.print("..."),i.print(n)):t[e-1]instanceof An&&n.comma(),n.space()}:s)}),n(z,function(n){var t=et(this,n),e=this.value;if(t)if(e instanceof N){if(e.name instanceof st&&t==ut(e.name))return n.space(),n.print("="),n.space(),void e.value.print(n)}else if(e instanceof st&&t==ut(e))return;n.colon(),e.print(n)}),n(J,function(n){var t=this.properties,e=t.length,i=this.rest;e||i?n.with_block(function(){t.forEach(function(t,e){e&&(n.print(","),n.newline()),n.indent(),t.print(n)}),i&&(e&&(n.print(","),n.newline()),n.indent(),n.print("..."),i.print(n)),n.newline()},this.end):M(this,n)}),n($n,function(n){Qn(this,n)}),n(Rn,function(n){et(this,n),n.colon(),this.value.print(n)}),n(In,function(n){Cn(this,n)}),n(Mn,ot("get")),n(Bn,ot("set")),n(st,function(n){n.print_name(ut(this))}),n(at,function(n){var t=ut(this);n.print_name(t);var e=this.alias;e.value!=t&&(n.space(),n.print("as"),n.space(),W(e,n))}),n(pt,function(n){var t=ut(this),e=this.key;e.value&&e.value!=t&&(W(e,n),n.space(),n.print("as"),n.space()),n.print_name(t)}),n(An,s),n(ht,function(n){this.tag&&this.tag.print(n),n.print("`");for(var t=0;t<this.expressions.length;t++)n.print(this.strings[t]),n.print("${"),this.expressions[t].print(n),n.print("}");n.print(this.strings[t]),n.print("`")}),n(j,function(n){n.print(""+this.value)}),n(nt,function(n){n.print_string(this.value,this.quote)}),n(Fn,function(n){var e=this.start;t&&e&&null!=e.raw?n.print(e.raw):n.print(_t(this.value))}),n(Wn,function(n){var t=this.value,e=t.toString(),i=e.lastIndexOf("/");t.raw_source?e="/"+t.raw_source+e.slice(i):1==i?e="/(?:)"+e.slice(i):e.indexOf("/",1)<i&&(e="/"+e.slice(1,i).replace(/\\\\|[^/]?\//g,function(n){return"\\"==n[0]?n:n.slice(0,-1)+"\\/"})+e.slice(i)),n.print(n.to_utf8(e).replace(/\\(?:\0(?![0-9])|[^\0])/g,function(n){switch(n[1]){case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\t";case"\b":return"\b";case"\f":return"\f";case"\0":return"\0";case"\v":return"\v";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return n}}).replace(/[\n\r\u2028\u2029]/g,function(n){switch(n){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}}))}),dt([Pn,wn],s),dt([c,d,A,b,j,L,V,K,Z,un,xn,En,On,$n,Zn,Xn,st,it,rt,At,bt,Dt],function(n){n.add_mapping(this.start)}),dt([P,z,jn],function(n){"string"==typeof this.key&&n.add_mapping(this.start,this.key)})}(),{OutputStream:Vt}});
//# sourceMappingURL=sourcemaps/output.js.map
