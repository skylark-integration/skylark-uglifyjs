/**
 * skylark-uglifyjs - A version of uglifyjs that ported to running on skylarkjs.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["./ast"],function(e){"use strict";const{AST_Accessor:t,AST_Array:n,AST_Arrow:r,AST_Assign:a,AST_AsyncFunction:o,AST_AsyncDefun:i,AST_AsyncArrow:s,AST_AsyncGeneratorFunction:u,AST_AsyncGeneratorDefun:l,AST_Atom:p,AST_Await:c,AST_BigInt:d,AST_Binary:y,AST_Block:f,AST_BlockStatement:m,AST_Boolean:S,AST_Break:_,AST_Call:T,AST_Case:A,AST_Catch:b,AST_Chain:v,AST_Class:w,AST_ClassStaticBlock:g,AST_ClassExpression:h,AST_ClassGetter:x,AST_ClassInit:E,AST_ClassProperty:k,AST_ClassPrivateProperty:D,AST_ClassSetter:C,AST_ConciseMethod:P,AST_Conditional:F,AST_Const:M,AST_Constant:I,AST_Continue:L,AST_Debugger:z,AST_Default:O,AST_DefaultAssign:j,AST_DefClass:B,AST_Definitions:N,AST_Defun:R,AST_Destructuring:U,AST_Directive:V,AST_Do:q,AST_Dot:H,AST_DotHash:G,AST_EmptyStatement:W,AST_Expansion:Y,AST_Export:K,AST_ExportDeclaration:$,AST_False:J,AST_Finally:Q,AST_For:X,AST_ForIn:Z,AST_ForOf:ee,AST_Function:te,AST_Hole:ne,AST_If:re,AST_Import:ae,AST_ImportMeta:oe,AST_Label:ie,AST_LabeledStatement:se,AST_LabelRef:ue,AST_Lambda:le,AST_Let:pe,AST_NameMapping:ce,AST_New:de,AST_NewTarget:ye,AST_Node:fe,AST_Null:me,AST_Number:Se,AST_Object:_e,AST_ObjectGetter:Te,AST_ObjectKeyVal:Ae,AST_ObjectProperty:be,AST_ObjectSetter:ve,AST_PrefixedTemplateString:we,AST_PrivateGetter:ge,AST_PrivateMethod:he,AST_PrivateSetter:xe,AST_PrivateIn:Ee,AST_PropAccess:ke,AST_RegExp:De,AST_Return:Ce,AST_Sequence:Pe,AST_SimpleStatement:Fe,AST_Statement:Me,AST_String:Ie,AST_Sub:Le,AST_Super:ze,AST_Switch:Oe,AST_SwitchBranch:je,AST_Symbol:Be,AST_SymbolCatch:Ne,AST_SymbolClass:Re,AST_SymbolClassProperty:Ue,AST_SymbolPrivateProperty:Ve,AST_SymbolConst:qe,AST_SymbolDefClass:He,AST_SymbolDefun:Ge,AST_SymbolExport:We,AST_SymbolExportForeign:Ye,AST_SymbolFunarg:Ke,AST_SymbolImport:$e,AST_SymbolImportForeign:Je,AST_SymbolLambda:Qe,AST_SymbolLet:Xe,AST_SymbolMethod:Ze,AST_SymbolRef:et,AST_SymbolVar:tt,AST_TemplateSegment:nt,AST_TemplateString:rt,AST_This:at,AST_Throw:ot,AST_Token:it,AST_Toplevel:st,AST_True:ut,AST_Try:lt,AST_TryBlock:pt,AST_Unary:ct,AST_UnaryPostfix:dt,AST_UnaryPrefix:yt,AST_Var:ft,AST_VarDef:mt,AST_While:St,AST_With:_t,AST_Yield:Tt,is_generator:At,is_arrow:bt,is_async:vt}=e;!function(){var e={Program:function(e){return new st({start:P(e),end:j(e),body:k(e.body.map(K))})},ArrowFunctionExpression:function(e){var t=[],n=null;e.params.forEach(function(e){"RestElement"==e.type?n=K(e.argument):t.push(K(e))});var a=new(e.async?s:r)({start:P(e),end:j(e),argnames:t,rest:n}),o=K(e.body);return o instanceof m?(a.body=k(o.body),a.value=null):(a.body=[],a.value=o),a},FunctionDeclaration:function(e){var t;t=e.async?e.generator?l:i:e.generator?AST_GeneratorDefun:R;var n=[],r=null;return e.params.forEach(function(e){"RestElement"==e.type?r=K(e.argument):n.push(K(e))}),new t({start:P(e),end:j(e),name:K(e.id),argnames:n,rest:r,body:k(K(e.body).body)})},FunctionExpression:function(e){var t;t=e.async?e.generator?u:o:e.generator?AST_GeneratorFunction:te;var n=[],r=null;return e.params.forEach(function(e){"RestElement"==e.type?r=K(e.argument):n.push(K(e))}),new t({start:P(e),end:j(e),name:K(e.id),argnames:n,rest:r,body:k(K(e.body).body)})},ClassDeclaration:function(e){return new B({start:P(e),end:j(e),name:K(e.id),extends:K(e.superClass),properties:e.body.body.map(K)})},ClassExpression:function(e){return new h({start:P(e),end:j(e),name:K(e.id),extends:K(e.superClass),properties:e.body.body.map(K)})},MethodDefinition:function(e){var n=e.key,r=!1;e.computed?n=K(n):"PrivateIdentifier"==n.type?(r=!0,n="#"+n.name):n=U(n);var a=AST_ClassMethod,o=K(e.value);switch(e.kind){case"get":a=x,o=new t(o);break;case"set":a=C,o=new t(o)}return new a({start:P(e),end:j(e),key:n,private:r,static:e.static,value:o})},PropertyDefinition:function(e){var t=e.key,n=!1;return e.computed?t=K(t):"PrivateIdentifier"==t.type?(n=!0,t="#"+t.name):t=U(t),new AST_ClassField({start:P(e),end:j(e),key:t,private:n,static:e.static,value:K(e.value)})},StaticBlock:function(e){var t=P(e),n=j(e);return new E({start:t,end:n,value:new AST_ClassInitBlock({start:t,end:n,body:k(e.body.map(K))})})},ForOfStatement:function(e){return new(e.await?AST_ForAwaitOf:ee)({start:P(e),end:j(e),init:K(e.left),object:K(e.right),body:K(e.body)})},TryStatement:function(e){var t=e.handlers||[e.handler];if(t.length>1||e.guardedHandlers&&e.guardedHandlers.length)throw new Error("Multiple catch clauses are not supported.");return new lt({start:P(e),end:j(e),body:K(e.block).body,bcatch:K(t[0]),bfinally:e.finalizer?new Q(K(e.finalizer)):null})},Property:function(e){var n=e.computed?K(e.key):U(e.key),r={start:P(e),end:j(e),key:n,value:K(e.value)};return"init"==e.kind?new(e.method?AST_ObjectMethod:Ae)(r):(r.value=new t(r.value),"get"==e.kind?new Te(r):"set"==e.kind?new ve(r):void 0)},ArrayExpression:function(e){return new n({start:P(e),end:j(e),elements:e.elements.map(function(e){return null===e?new ne:K(e)})})},ArrayPattern:function(e){var t=[],n=null;return e.elements.forEach(function(e){null===e?t.push(new ne):"RestElement"==e.type?n=K(e.argument):t.push(K(e))}),new AST_DestructuredArray({start:P(e),end:j(e),elements:t,rest:n})},ObjectPattern:function(e){var t=[],n=null;return e.properties.forEach(function(e){"RestElement"==e.type?n=K(e.argument):t.push(new AST_DestructuredKeyVal(K(e)))}),new AST_DestructuredObject({start:P(e),end:j(e),properties:t,rest:n})},MemberExpression:function(e){return new(e.computed?Le:H)({start:P(e),end:j(e),optional:e.optional,expression:K(e.object),property:e.computed?K(e.property):e.property.name})},MetaProperty:function(e){var t=K(e.meta),n=U(e.property);return"new"==t.name&&"target"==n?new ye({start:P(e),end:j(e),name:"new.target"}):new H({start:P(e),end:j(e),expression:t,property:n})},SwitchCase:function(e){return new(e.test?A:O)({start:P(e),end:j(e),expression:K(e.test),body:e.consequent.map(K)})},ExportAllDeclaration:function(e){var t=P(e),n=j(e);return new AST_ExportForeign({start:t,end:n,aliases:[e.exported?oe(e.exported):new Ie({start:t,value:"*",end:n})],keys:[new Ie({start:t,value:"*",end:n})],path:K(e.source)})},ExportDefaultDeclaration:function(e){var t=K(e.declaration);if(!t.name)switch(t.CTOR){case i:t=new o(t);break;case l:t=new u(t);break;case B:t=new h(t);break;case R:t=new te(t);break;case AST_GeneratorDefun:t=new AST_GeneratorFunction(t)}return new AST_ExportDefault({start:P(e),end:j(e),body:t})},ExportNamedDeclaration:function(e){if(e.declaration)return new $({start:P(e),end:j(e),body:K(e.declaration)});if(e.source){var t=[],n=[];return e.specifiers.forEach(function(e){t.push(oe(e.exported)),n.push(oe(e.local))}),new AST_ExportForeign({start:P(e),end:j(e),aliases:t,keys:n,path:K(e.source)})}return new AST_ExportReferences({start:P(e),end:j(e),properties:e.specifiers.map(function(e){var t=new We(K(e.local));return t.alias=oe(e.exported),t})})},ImportDeclaration:function(e){var t=P(e),n=j(e),r=null,a=null,o=null;return e.specifiers.forEach(function(e){var i=new $e(K(e.local));switch(e.type){case"ImportDefaultSpecifier":(a=i).key=new Ie({start:t,value:"",end:n});break;case"ImportNamespaceSpecifier":(r=i).key=new Ie({start:t,value:"*",end:n});break;default:i.key=oe(e.imported),o||(o=[]),o.push(i)}}),new ae({start:t,end:n,all:r,default:a,properties:o,path:K(e.source)})},ImportExpression:function(e){var t=P(e),n=K(e.source);return new T({start:t,end:j(e),expression:new et({start:t,end:n.start,name:"import"}),args:[n]})},VariableDeclaration:function(e){return new({const:M,let:pe}[e.kind]||ft)({start:P(e),end:j(e),definitions:e.declarations.map(K)})},Literal:function(e){var t={start:P(e),end:j(e)};if(e.bigint)return t.value=e.bigint.toLowerCase()+"n",new d(t);var n=e.value;if(null===n)return new me(t);var r=e.regex;if(r&&r.pattern)return t.value=new RegExp(r.pattern,r.flags),t.value.raw_source=r.pattern,new De(t);if(r)return t.value=e.regex&&e.raw?e.raw:n,new De(t);switch(typeof n){case"string":return t.value=n,new Ie(t);case"number":return isNaN(n)?new AST_NaN(t):(isFinite(n)?(a=1/n<0,t.value=a?-n:n,o=new Se(t)):(a=n<0,o=new AST_Infinity(t)),a?new yt({start:t.start,end:t.end,operator:"-",expression:o}):o);var a,o;case"boolean":return new(n?ut:J)(t)}},TemplateLiteral:function(e){return new AST_Template({start:P(e),end:j(e),expressions:e.expressions.map(K),strings:e.quasis.map(function(e){return e.value.raw})})},TaggedTemplateExpression:function(e){var t=K(e.quasi);return t.start=P(e),t.end=j(e),t.tag=K(e.tag),t},Identifier:function(e){var t,n=Y.length-1;do{t=Y[--n]}while("ArrayPattern"==t.type||"AssignmentPattern"==t.type&&t.left===Y[n+1]||"ObjectPattern"==t.type||"Property"==t.type&&t.value===Y[n+1]||"VariableDeclarator"==t.type&&t.id===Y[n+1]);var r=et;switch(t.type){case"ArrowFunctionExpression":t.body!==Y[n+1]&&(r=Ke);break;case"BreakStatement":case"ContinueStatement":r=ue;break;case"CatchClause":r=Ne;break;case"ClassDeclaration":t.id===Y[n+1]&&(r=He);break;case"ClassExpression":t.id===Y[n+1]&&(r=Re);break;case"FunctionDeclaration":r=t.id===Y[n+1]?Ge:Ke;break;case"FunctionExpression":r=t.id===Y[n+1]?Qe:Ke;break;case"LabeledStatement":r=ie;break;case"VariableDeclaration":r={const:qe,let:Xe}[t.kind]||tt}return new r({start:P(e),end:j(e),name:e.name})},Super:function(e){return new ze({start:P(e),end:j(e),name:"super"})},ThisExpression:function(e){return new at({start:P(e),end:j(e),name:"this"})},ParenthesizedExpression:function(e){var t=K(e.expression);return t.start.parens||(t.start.parens=[]),t.start.parens.push(P(e)),t.end.parens||(t.end.parens=[]),t.end.parens.push(j(e)),t},ChainExpression:function(e){var t=K(e.expression);return t.terminal=!0,t}};function v(e){return function(t){var n=t.key instanceof fe,r=n?ge(t.key):t.private?{type:"PrivateIdentifier",name:t.key.slice(1)}:{type:"Literal",value:t.key};return{type:"MethodDefinition",kind:e,computed:n,key:r,static:t.static,value:ge(t.value)}}}function w(e){return function(t){return{type:"ForOfStatement",await:e,left:ge(t.init),right:ge(t.object),body:ge(t.body)}}}function g(e){var t=e.value;return"number"==typeof t&&(t<0||0===t&&1/t<0)?{type:"UnaryExpression",operator:"-",prefix:!0,argument:{type:"Literal",value:-t,raw:e.start.raw}}:{type:"Literal",value:t,raw:e.start.raw}}function k(e){for(var t=0;t<e.length;t++){var n=e[t];if(!(n instanceof Fe))break;var r=n.body;if(!(r instanceof Ie))break;if(n.start.pos!==r.start.pos)break;e[t]=new V(r)}return e}function D(e){if("Literal"==e.type)return null!=e.raw?e.raw:e.value+""}function P(e){var t=e.loc,n=t&&t.start,r=e.range;return new it({file:t&&t.source,line:n&&n.line,col:n&&n.column,pos:r?r[0]:e.start,endline:n&&n.line,endcol:n&&n.column,endpos:r?r[0]:e.start,raw:D(e)})}function j(e){var t=e.loc,n=t&&t.end,r=e.range;return new it({file:t&&t.source,line:n&&n.line,col:n&&n.column,pos:r?r[1]:e.end,endline:n&&n.line,endcol:n&&n.column,endpos:r?r[1]:e.end,raw:D(e)})}function U(e){return""+e["Identifier"==e.type?"name":"value"]}function G(t,n,r){var a=["start: my_start_token(M)","end: my_end_token(M)"],o=["type: "+JSON.stringify(t)];r&&r.split(/\s*,\s*/).forEach(function(e){var t=/([a-z0-9$_]+)(=|@|>|%)([a-z0-9$_]+)/i.exec(e);if(!t)throw new Error("Can't understand property map: "+e);var n=t[1],r=t[2],i=t[3];switch(r){case"@":a.push(i+": M."+n+".map(from_moz)"),o.push(n+": M."+i+".map(to_moz)");break;case">":a.push(i+": from_moz(M."+n+")"),o.push(n+": to_moz(M."+i+")");break;case"=":a.push(i+": M."+n),o.push(n+": M."+i);break;case"%":a.push(i+": from_moz(M."+n+").body"),o.push(n+": to_moz_block(M)");break;default:throw new Error("Can't understand operator in propmap: "+e)}}),e[t]=new Function("U2","my_start_token","my_end_token","from_moz",["return function From_Moz_"+t+"(M) {","    return new U2.AST_"+n.TYPE+"({",a.join(",\n"),"    });","};"].join("\n"))(exports,P,j,K),we(n,new Function("to_moz","to_moz_block","to_moz_scope",["return function To_Moz_"+t+"(M) {","    return {",o.join(",\n"),"    };","};"].join("\n"))(ge,xe,Ee))}e.UpdateExpression=e.UnaryExpression=function(e){return new(("prefix"in e?e.prefix:"UnaryExpression"==e.type)?yt:dt)({start:P(e),end:j(e),operator:e.operator,expression:K(e.argument)})},G("EmptyStatement",W),G("ExpressionStatement",Fe,"expression>body"),G("BlockStatement",m,"body@body"),G("IfStatement",re,"test>condition, consequent>body, alternate>alternative"),G("LabeledStatement",se,"label>label, body>body"),G("BreakStatement",_,"label>label"),G("ContinueStatement",L,"label>label"),G("WithStatement",_t,"object>expression, body>body"),G("SwitchStatement",Oe,"discriminant>expression, cases@body"),G("ReturnStatement",Ce,"argument>value"),G("ThrowStatement",ot,"argument>value"),G("WhileStatement",St,"test>condition, body>body"),G("DoWhileStatement",q,"test>condition, body>body"),G("ForStatement",X,"init>init, test>condition, update>step, body>body"),G("ForInStatement",Z,"left>init, right>object, body>body"),G("DebuggerStatement",z),G("VariableDeclarator",mt,"id>name, init>value"),G("CatchClause",b,"param>argname, body%body"),G("BinaryExpression",y,"operator=operator, left>left, right>right"),G("LogicalExpression",y,"operator=operator, left>left, right>right"),G("AssignmentExpression",a,"operator=operator, left>left, right>right"),G("AssignmentPattern",AST_DefaultValue,"left>name, right>value"),G("ConditionalExpression",F,"test>condition, consequent>consequent, alternate>alternative"),G("NewExpression",de,"callee>expression, arguments@args, pure=pure"),G("CallExpression",T,"callee>expression, arguments@args, optional=optional, pure=pure"),G("SequenceExpression",Pe,"expressions@expressions"),G("SpreadElement",AST_Spread,"argument>expression"),G("ObjectExpression",_e,"properties@properties"),G("AwaitExpression",c,"argument>expression"),G("YieldExpression",Tt,"argument>expression, delegate=nested"),we(st,function(e){return Ee("Program",e)}),we(AST_LambdaDefinition,function(e){var t=e.argnames.map(ge);return e.rest&&t.push({type:"RestElement",argument:ge(e.rest)}),{type:"FunctionDeclaration",id:ge(e.name),async:vt(e),generator:At(e),params:t,body:Ee("BlockStatement",e)}}),we(le,function(e){var t=e.argnames.map(ge);return e.rest&&t.push({type:"RestElement",argument:ge(e.rest)}),bt(e)?{type:"ArrowFunctionExpression",async:vt(e),params:t,body:e.value?ge(e.value):Ee("BlockStatement",e)}:{type:"FunctionExpression",id:ge(e.name),async:vt(e),generator:At(e),params:t,body:Ee("BlockStatement",e)}}),we(B,function(e){return{type:"ClassDeclaration",id:ge(e.name),superClass:ge(e.extends),body:{type:"ClassBody",body:e.properties.map(ge)}}}),we(h,function(e){return{type:"ClassExpression",id:ge(e.name),superClass:ge(e.extends),body:{type:"ClassBody",body:e.properties.map(ge)}}}),we(x,v("get")),we(C,v("set")),we(AST_ClassMethod,v("method")),we(AST_ClassField,function(e){var t=e.key instanceof fe;return{type:"PropertyDefinition",computed:t,key:t?ge(e.key):e.private?{type:"PrivateIdentifier",name:e.key.slice(1)}:{type:"Literal",value:e.key},static:e.static,value:ge(e.value)}}),we(E,function(e){return Ee("StaticBlock",e.value)}),we(AST_ForAwaitOf,w(!0)),we(ee,w(!1)),we(V,function(e){return{type:"ExpressionStatement",expression:ce(e,{type:"Literal",value:e.value})}}),we(je,function(e){return{type:"SwitchCase",test:ge(e.expression),consequent:e.body.map(ge)}}),we(lt,function(e){return{type:"TryStatement",block:xe(e),handler:ge(e.bcatch),guardedHandlers:[],finalizer:ge(e.bfinally)}}),we(b,function(e){return{type:"CatchClause",param:ge(e.argname),guard:null,body:xe(e)}}),we($,function(e){return{type:"ExportNamedDeclaration",declaration:ge(e.body)}}),we(AST_ExportDefault,function(e){return{type:"ExportDefaultDeclaration",declaration:ge(e.body)}}),we(AST_ExportForeign,function(e){if("*"==e.keys[0].value)return{type:"ExportAllDeclaration",exported:"*"==e.aliases[0].value?null:he(e.aliases[0]),source:ge(e.path)};for(var t=[],n=0;n<e.aliases.length;n++)t.push(ce({start:e.keys[n].start,end:e.aliases[n].end},{type:"ExportSpecifier",local:he(e.keys[n]),exported:he(e.aliases[n])}));return{type:"ExportNamedDeclaration",specifiers:t,source:ge(e.path)}}),we(AST_ExportReferences,function(e){return{type:"ExportNamedDeclaration",specifiers:e.properties.map(function(e){return ce({start:e.start,end:e.alias.end},{type:"ExportSpecifier",local:ge(e),exported:he(e.alias)})})}}),we(ae,function(e){var t=e.properties?e.properties.map(function(e){return ce({start:e.key.start,end:e.end},{type:"ImportSpecifier",local:ge(e),imported:he(e.key)})}):[];return e.all&&t.unshift(ce(e.all,{type:"ImportNamespaceSpecifier",local:ge(e.all)})),e.default&&t.unshift(ce(e.default,{type:"ImportDefaultSpecifier",local:ge(e.default)})),{type:"ImportDeclaration",specifiers:t,source:ge(e.path)}}),we(N,function(e){return{type:"VariableDeclaration",kind:e.TYPE.toLowerCase(),declarations:e.definitions.map(ge)}}),we(ke,function(e){var t=e instanceof Le,n={type:"MemberExpression",object:ge(e.expression),computed:t,optional:e.optional,property:t?ge(e.property):{type:"Identifier",name:e.property}};return e.terminal?{type:"ChainExpression",expression:n}:n}),we(ct,function(e){return{type:"++"==e.operator||"--"==e.operator?"UpdateExpression":"UnaryExpression",operator:e.operator,prefix:e instanceof yt,argument:ge(e.expression)}}),we(y,function(e){return{type:"&&"==e.operator||"||"==e.operator?"LogicalExpression":"BinaryExpression",left:ge(e.left),operator:e.operator,right:ge(e.right)}}),we(n,function(e){return{type:"ArrayExpression",elements:e.elements.map(ge)}}),we(AST_DestructuredArray,function(e){var t=e.elements.map(ge);return e.rest&&t.push({type:"RestElement",argument:ge(e.rest)}),{type:"ArrayPattern",elements:t}}),we(AST_DestructuredKeyVal,function(e){var t=e.key instanceof fe;return{type:"Property",kind:"init",computed:t,key:t?ge(e.key):{type:"Literal",value:e.key},value:ge(e.value)}}),we(AST_DestructuredObject,function(e){var t=e.properties.map(ge);return e.rest&&t.push({type:"RestElement",argument:ge(e.rest)}),{type:"ObjectPattern",properties:t}}),we(be,function(e){var t,n=e.key instanceof fe,r=n?ge(e.key):{type:"Literal",value:e.key};return e instanceof Ae?t="init":e instanceof Te?t="get":e instanceof ve&&(t="set"),{type:"Property",kind:t,computed:n,method:e instanceof AST_ObjectMethod,key:r,value:ge(e.value)}}),we(Be,function(e){var t=e.definition();return{type:"Identifier",name:t&&t.mangled_name||e.name}}),we(ze,function(){return{type:"Super"}}),we(at,function(){return{type:"ThisExpression"}}),we(ye,function(){return{type:"MetaProperty",meta:{type:"Identifier",name:"new"},property:{type:"Identifier",name:"target"}}}),we(De,function(e){var t=e.value.toString().match(/\/([gimuy]*)$/)[1],n="/"+e.value.raw_source+"/"+t;return{type:"Literal",value:n,raw:n,regex:{pattern:e.value.raw_source,flags:t}}}),we(d,function(e){var t=e.value;return{type:"Literal",bigint:t.slice(0,-1),raw:t}}),we(S,g),we(I,g),we(me,g),we(p,function(e){return{type:"Identifier",name:String(e.value)}}),we(AST_Template,function(e){var t=e.strings.length-1,n={type:"TemplateLiteral",expressions:e.expressions.map(ge),quasis:e.strings.map(function(e,n){return{type:"TemplateElement",tail:n==t,value:{raw:e}}})};return e.tag?{type:"TaggedTemplateExpression",tag:ge(e.tag),quasi:n}:n}),f.DEFMETHOD("to_mozilla_ast",m.prototype.to_mozilla_ast),ne.DEFMETHOD("to_mozilla_ast",return_null),fe.DEFMETHOD("to_mozilla_ast",function(){throw new Error("Cannot convert AST_"+this.TYPE)});var Y=null;function K(t){Y.push(t);var n=null;if(t){if(!HOP(e,t.type))throw new Error("Unsupported type: "+t.type);n=e[t.type](t)}return Y.pop(),n}function oe(e){return new Ie({start:P(e),value:U(e),end:j(e)})}function ce(e,t){var n=e.start,r=e.end;return null!=n.pos&&null!=r.endpos&&(t.range=[n.pos,r.endpos]),n.line&&(t.loc={start:{line:n.line,column:n.col},end:r.endline?{line:r.endline,column:r.endcol}:null},n.file&&(t.loc.source=n.file)),t}function we(e,t){e.DEFMETHOD("to_mozilla_ast",function(){return ce(this,t(this))})}function ge(e){return null!=e?e.to_mozilla_ast():null}function he(e){return is_identifier_string(e.value)?ce(e,{type:"Identifier",name:e.value}):ge(e)}function xe(e){return{type:"BlockStatement",body:e.body.map(ge)}}function Ee(e,t){var n=t.body.map(ge);return t.body[0]instanceof Fe&&t.body[0].body instanceof Ie&&n.unshift(ge(new W(t.body[0]))),{type:e,body:n}}fe.from_mozilla_ast=function(e){var t=Y;Y=[];var n=K(e);return Y=t,n.walk(new TreeWalker(function(e){if(e instanceof ue){for(var t,n=0;(t=this.parent(n))&&!(t instanceof AST_Scope);n++)if(t instanceof se&&t.label.name==e.name){e.thedef=t.label;break}if(!e.thedef){var r=e.start;js_error("Undefined label "+e.name,r.file,r.line,r.col,r.pos)}}})),n}}()});
//# sourceMappingURL=sourcemaps/mozilla-ast.js.map
