/**
 * skylark-uglifyjs - A version of uglifyjs that ported to running on skylarkjs.
 * @author Hudaokeji Co.,Ltd
 * @version v0.9.0
 * @link www.skylarkjs.org
 * @license MIT
 */
define(["./ast"],function(e){"use strict";const{AST_Accessor:t,AST_Array:n,AST_Arrow:r,AST_Assign:a,AST_Atom:o,AST_Await:i,AST_BigInt:s,AST_Binary:u,AST_Block:l,AST_BlockStatement:p,AST_Boolean:c,AST_Break:d,AST_Call:y,AST_Case:f,AST_Catch:m,AST_Chain:S,AST_Class:_,AST_ClassStaticBlock:A,AST_ClassExpression:T,AST_ClassProperty:b,AST_ClassPrivateProperty:v,AST_ConciseMethod:w,AST_Conditional:g,AST_Const:h,AST_Constant:x,AST_Continue:E,AST_Debugger:k,AST_Default:D,AST_DefaultAssign:C,AST_DefClass:F,AST_Definitions:P,AST_Defun:I,AST_Destructuring:M,AST_Directive:L,AST_Do:z,AST_Dot:O,AST_DotHash:j,AST_EmptyStatement:B,AST_Expansion:N,AST_Export:R,AST_ExportDeclaration:U,AST_False:G,AST_Finally:V,AST_For:q,AST_ForIn:H,AST_ForOf:W,AST_Function:Y,AST_Hole:K,AST_If:$,AST_Import:J,AST_ImportMeta:Q,AST_Label:X,AST_LabeledStatement:Z,AST_LabelRef:ee,AST_Lambda:te,AST_Let:ne,AST_NameMapping:re,AST_New:ae,AST_NewTarget:oe,AST_Node:ie,AST_Null:se,AST_Number:ue,AST_Object:le,AST_ObjectGetter:pe,AST_ObjectKeyVal:ce,AST_ObjectProperty:de,AST_ObjectSetter:ye,AST_PrefixedTemplateString:fe,AST_PrivateGetter:me,AST_PrivateMethod:Se,AST_PrivateSetter:_e,AST_PrivateIn:Ae,AST_PropAccess:Te,AST_RegExp:be,AST_Return:ve,AST_Sequence:we,AST_SimpleStatement:ge,AST_Statement:he,AST_String:xe,AST_Sub:Ee,AST_Super:ke,AST_Switch:De,AST_SwitchBranch:Ce,AST_Symbol:Fe,AST_SymbolCatch:Pe,AST_SymbolClass:Ie,AST_SymbolClassProperty:Me,AST_SymbolPrivateProperty:Le,AST_SymbolConst:ze,AST_SymbolDefClass:Oe,AST_SymbolDefun:je,AST_SymbolExport:Be,AST_SymbolExportForeign:Ne,AST_SymbolFunarg:Re,AST_SymbolImport:Ue,AST_SymbolImportForeign:Ge,AST_SymbolLambda:Ve,AST_SymbolLet:qe,AST_SymbolMethod:He,AST_SymbolRef:We,AST_SymbolVar:Ye,AST_TemplateSegment:Ke,AST_TemplateString:$e,AST_This:Je,AST_Throw:Qe,AST_Token:Xe,AST_Toplevel:Ze,AST_True:et,AST_Try:tt,AST_TryBlock:nt,AST_Unary:rt,AST_UnaryPostfix:at,AST_UnaryPrefix:ot,AST_Var:it,AST_VarDef:st,AST_While:ut,AST_With:lt,AST_Yield:pt,is_generator:ct}=e;!function(){var e={Program:function(e){return new Ze({start:w(e),end:C(e),body:b(e.body.map(R))})},ArrowFunctionExpression:function(e){var t=[],n=null;e.params.forEach(function(e){"RestElement"==e.type?n=R(e.argument):t.push(R(e))});var a=new(e.async?AST_AsyncArrow:r)({start:w(e),end:C(e),argnames:t,rest:n}),o=R(e.body);return o instanceof p?(a.body=b(o.body),a.value=null):(a.body=[],a.value=o),a},FunctionDeclaration:function(e){var t;t=e.async?e.generator?AST_AsyncGeneratorDefun:AST_AsyncDefun:e.generator?AST_GeneratorDefun:I;var n=[],r=null;return e.params.forEach(function(e){"RestElement"==e.type?r=R(e.argument):n.push(R(e))}),new t({start:w(e),end:C(e),name:R(e.id),argnames:n,rest:r,body:b(R(e.body).body)})},FunctionExpression:function(e){var t;t=e.async?e.generator?AST_AsyncGeneratorFunction:AST_AsyncFunction:e.generator?AST_GeneratorFunction:Y;var n=[],r=null;return e.params.forEach(function(e){"RestElement"==e.type?r=R(e.argument):n.push(R(e))}),new t({start:w(e),end:C(e),name:R(e.id),argnames:n,rest:r,body:b(R(e.body).body)})},ClassDeclaration:function(e){return new F({start:w(e),end:C(e),name:R(e.id),extends:R(e.superClass),properties:e.body.body.map(R)})},ClassExpression:function(e){return new T({start:w(e),end:C(e),name:R(e.id),extends:R(e.superClass),properties:e.body.body.map(R)})},MethodDefinition:function(e){var n=e.key,r=!1;e.computed?n=R(n):"PrivateIdentifier"==n.type?(r=!0,n="#"+n.name):n=M(n);var a=AST_ClassMethod,o=R(e.value);switch(e.kind){case"get":a=AST_ClassGetter,o=new t(o);break;case"set":a=AST_ClassSetter,o=new t(o)}return new a({start:w(e),end:C(e),key:n,private:r,static:e.static,value:o})},PropertyDefinition:function(e){var t=e.key,n=!1;return e.computed?t=R(t):"PrivateIdentifier"==t.type?(n=!0,t="#"+t.name):t=M(t),new AST_ClassField({start:w(e),end:C(e),key:t,private:n,static:e.static,value:R(e.value)})},StaticBlock:function(e){var t=w(e),n=C(e);return new AST_ClassInit({start:t,end:n,value:new AST_ClassInitBlock({start:t,end:n,body:b(e.body.map(R))})})},ForOfStatement:function(e){return new(e.await?AST_ForAwaitOf:W)({start:w(e),end:C(e),init:R(e.left),object:R(e.right),body:R(e.body)})},TryStatement:function(e){var t=e.handlers||[e.handler];if(t.length>1||e.guardedHandlers&&e.guardedHandlers.length)throw new Error("Multiple catch clauses are not supported.");return new tt({start:w(e),end:C(e),body:R(e.block).body,bcatch:R(t[0]),bfinally:e.finalizer?new V(R(e.finalizer)):null})},Property:function(e){var n=e.computed?R(e.key):M(e.key),r={start:w(e),end:C(e),key:n,value:R(e.value)};return"init"==e.kind?new(e.method?AST_ObjectMethod:ce)(r):(r.value=new t(r.value),"get"==e.kind?new pe(r):"set"==e.kind?new ye(r):void 0)},ArrayExpression:function(e){return new n({start:w(e),end:C(e),elements:e.elements.map(function(e){return null===e?new K:R(e)})})},ArrayPattern:function(e){var t=[],n=null;return e.elements.forEach(function(e){null===e?t.push(new K):"RestElement"==e.type?n=R(e.argument):t.push(R(e))}),new AST_DestructuredArray({start:w(e),end:C(e),elements:t,rest:n})},ObjectPattern:function(e){var t=[],n=null;return e.properties.forEach(function(e){"RestElement"==e.type?n=R(e.argument):t.push(new AST_DestructuredKeyVal(R(e)))}),new AST_DestructuredObject({start:w(e),end:C(e),properties:t,rest:n})},MemberExpression:function(e){return new(e.computed?Ee:O)({start:w(e),end:C(e),optional:e.optional,expression:R(e.object),property:e.computed?R(e.property):e.property.name})},MetaProperty:function(e){var t=R(e.meta),n=M(e.property);return"new"==t.name&&"target"==n?new oe({start:w(e),end:C(e),name:"new.target"}):new O({start:w(e),end:C(e),expression:t,property:n})},SwitchCase:function(e){return new(e.test?f:D)({start:w(e),end:C(e),expression:R(e.test),body:e.consequent.map(R)})},ExportAllDeclaration:function(e){var t=w(e),n=C(e);return new AST_ExportForeign({start:t,end:n,aliases:[e.exported?Q(e.exported):new xe({start:t,value:"*",end:n})],keys:[new xe({start:t,value:"*",end:n})],path:R(e.source)})},ExportDefaultDeclaration:function(e){var t=R(e.declaration);if(!t.name)switch(t.CTOR){case AST_AsyncDefun:t=new AST_AsyncFunction(t);break;case AST_AsyncGeneratorDefun:t=new AST_AsyncGeneratorFunction(t);break;case F:t=new T(t);break;case I:t=new Y(t);break;case AST_GeneratorDefun:t=new AST_GeneratorFunction(t)}return new AST_ExportDefault({start:w(e),end:C(e),body:t})},ExportNamedDeclaration:function(e){if(e.declaration)return new U({start:w(e),end:C(e),body:R(e.declaration)});if(e.source){var t=[],n=[];return e.specifiers.forEach(function(e){t.push(Q(e.exported)),n.push(Q(e.local))}),new AST_ExportForeign({start:w(e),end:C(e),aliases:t,keys:n,path:R(e.source)})}return new AST_ExportReferences({start:w(e),end:C(e),properties:e.specifiers.map(function(e){var t=new Be(R(e.local));return t.alias=Q(e.exported),t})})},ImportDeclaration:function(e){var t=w(e),n=C(e),r=null,a=null,o=null;return e.specifiers.forEach(function(e){var i=new Ue(R(e.local));switch(e.type){case"ImportDefaultSpecifier":(a=i).key=new xe({start:t,value:"",end:n});break;case"ImportNamespaceSpecifier":(r=i).key=new xe({start:t,value:"*",end:n});break;default:i.key=Q(e.imported),o||(o=[]),o.push(i)}}),new J({start:t,end:n,all:r,default:a,properties:o,path:R(e.source)})},ImportExpression:function(e){var t=w(e),n=R(e.source);return new y({start:t,end:C(e),expression:new We({start:t,end:n.start,name:"import"}),args:[n]})},VariableDeclaration:function(e){return new({const:h,let:ne}[e.kind]||it)({start:w(e),end:C(e),definitions:e.declarations.map(R)})},Literal:function(e){var t={start:w(e),end:C(e)};if(e.bigint)return t.value=e.bigint.toLowerCase()+"n",new s(t);var n=e.value;if(null===n)return new se(t);var r=e.regex;if(r&&r.pattern)return t.value=new RegExp(r.pattern,r.flags),t.value.raw_source=r.pattern,new be(t);if(r)return t.value=e.regex&&e.raw?e.raw:n,new be(t);switch(typeof n){case"string":return t.value=n,new xe(t);case"number":return isNaN(n)?new AST_NaN(t):(isFinite(n)?(a=1/n<0,t.value=a?-n:n,o=new ue(t)):(a=n<0,o=new AST_Infinity(t)),a?new ot({start:t.start,end:t.end,operator:"-",expression:o}):o);var a,o;case"boolean":return new(n?et:G)(t)}},TemplateLiteral:function(e){return new AST_Template({start:w(e),end:C(e),expressions:e.expressions.map(R),strings:e.quasis.map(function(e){return e.value.raw})})},TaggedTemplateExpression:function(e){var t=R(e.quasi);return t.start=w(e),t.end=C(e),t.tag=R(e.tag),t},Identifier:function(e){var t,n=N.length-1;do{t=N[--n]}while("ArrayPattern"==t.type||"AssignmentPattern"==t.type&&t.left===N[n+1]||"ObjectPattern"==t.type||"Property"==t.type&&t.value===N[n+1]||"VariableDeclarator"==t.type&&t.id===N[n+1]);var r=We;switch(t.type){case"ArrowFunctionExpression":t.body!==N[n+1]&&(r=Re);break;case"BreakStatement":case"ContinueStatement":r=ee;break;case"CatchClause":r=Pe;break;case"ClassDeclaration":t.id===N[n+1]&&(r=Oe);break;case"ClassExpression":t.id===N[n+1]&&(r=Ie);break;case"FunctionDeclaration":r=t.id===N[n+1]?je:Re;break;case"FunctionExpression":r=t.id===N[n+1]?Ve:Re;break;case"LabeledStatement":r=X;break;case"VariableDeclaration":r={const:ze,let:qe}[t.kind]||Ye}return new r({start:w(e),end:C(e),name:e.name})},Super:function(e){return new ke({start:w(e),end:C(e),name:"super"})},ThisExpression:function(e){return new Je({start:w(e),end:C(e),name:"this"})},ParenthesizedExpression:function(e){var t=R(e.expression);return t.start.parens||(t.start.parens=[]),t.start.parens.push(w(e)),t.end.parens||(t.end.parens=[]),t.end.parens.push(C(e)),t},ChainExpression:function(e){var t=R(e.expression);return t.terminal=!0,t}};function S(e){return function(t){var n=t.key instanceof ie,r=n?me(t.key):t.private?{type:"PrivateIdentifier",name:t.key.slice(1)}:{type:"Literal",value:t.key};return{type:"MethodDefinition",kind:e,computed:n,key:r,static:t.static,value:me(t.value)}}}function _(e){return function(t){return{type:"ForOfStatement",await:e,left:me(t.init),right:me(t.object),body:me(t.body)}}}function A(e){var t=e.value;return"number"==typeof t&&(t<0||0===t&&1/t<0)?{type:"UnaryExpression",operator:"-",prefix:!0,argument:{type:"Literal",value:-t,raw:e.start.raw}}:{type:"Literal",value:t,raw:e.start.raw}}function b(e){for(var t=0;t<e.length;t++){var n=e[t];if(!(n instanceof ge))break;var r=n.body;if(!(r instanceof xe))break;if(n.start.pos!==r.start.pos)break;e[t]=new L(r)}return e}function v(e){if("Literal"==e.type)return null!=e.raw?e.raw:e.value+""}function w(e){var t=e.loc,n=t&&t.start,r=e.range;return new Xe({file:t&&t.source,line:n&&n.line,col:n&&n.column,pos:r?r[0]:e.start,endline:n&&n.line,endcol:n&&n.column,endpos:r?r[0]:e.start,raw:v(e)})}function C(e){var t=e.loc,n=t&&t.end,r=e.range;return new Xe({file:t&&t.source,line:n&&n.line,col:n&&n.column,pos:r?r[1]:e.end,endline:n&&n.line,endcol:n&&n.column,endpos:r?r[1]:e.end,raw:v(e)})}function M(e){return""+e["Identifier"==e.type?"name":"value"]}function j(t,n,r){var a=["start: my_start_token(M)","end: my_end_token(M)"],o=["type: "+JSON.stringify(t)];r&&r.split(/\s*,\s*/).forEach(function(e){var t=/([a-z0-9$_]+)(=|@|>|%)([a-z0-9$_]+)/i.exec(e);if(!t)throw new Error("Can't understand property map: "+e);var n=t[1],r=t[2],i=t[3];switch(r){case"@":a.push(i+": M."+n+".map(from_moz)"),o.push(n+": M."+i+".map(to_moz)");break;case">":a.push(i+": from_moz(M."+n+")"),o.push(n+": to_moz(M."+i+")");break;case"=":a.push(i+": M."+n),o.push(n+": M."+i);break;case"%":a.push(i+": from_moz(M."+n+").body"),o.push(n+": to_moz_block(M)");break;default:throw new Error("Can't understand operator in propmap: "+e)}}),e[t]=new Function("U2","my_start_token","my_end_token","from_moz",["return function From_Moz_"+t+"(M) {","    return new U2.AST_"+n.TYPE+"({",a.join(",\n"),"    });","};"].join("\n"))(exports,w,C,R),fe(n,new Function("to_moz","to_moz_block","to_moz_scope",["return function To_Moz_"+t+"(M) {","    return {",o.join(",\n"),"    };","};"].join("\n"))(me,_e,Ae))}e.UpdateExpression=e.UnaryExpression=function(e){return new(("prefix"in e?e.prefix:"UnaryExpression"==e.type)?ot:at)({start:w(e),end:C(e),operator:e.operator,expression:R(e.argument)})},j("EmptyStatement",B),j("ExpressionStatement",ge,"expression>body"),j("BlockStatement",p,"body@body"),j("IfStatement",$,"test>condition, consequent>body, alternate>alternative"),j("LabeledStatement",Z,"label>label, body>body"),j("BreakStatement",d,"label>label"),j("ContinueStatement",E,"label>label"),j("WithStatement",lt,"object>expression, body>body"),j("SwitchStatement",De,"discriminant>expression, cases@body"),j("ReturnStatement",ve,"argument>value"),j("ThrowStatement",Qe,"argument>value"),j("WhileStatement",ut,"test>condition, body>body"),j("DoWhileStatement",z,"test>condition, body>body"),j("ForStatement",q,"init>init, test>condition, update>step, body>body"),j("ForInStatement",H,"left>init, right>object, body>body"),j("DebuggerStatement",k),j("VariableDeclarator",st,"id>name, init>value"),j("CatchClause",m,"param>argname, body%body"),j("BinaryExpression",u,"operator=operator, left>left, right>right"),j("LogicalExpression",u,"operator=operator, left>left, right>right"),j("AssignmentExpression",a,"operator=operator, left>left, right>right"),j("AssignmentPattern",AST_DefaultValue,"left>name, right>value"),j("ConditionalExpression",g,"test>condition, consequent>consequent, alternate>alternative"),j("NewExpression",ae,"callee>expression, arguments@args, pure=pure"),j("CallExpression",y,"callee>expression, arguments@args, optional=optional, pure=pure"),j("SequenceExpression",we,"expressions@expressions"),j("SpreadElement",AST_Spread,"argument>expression"),j("ObjectExpression",le,"properties@properties"),j("AwaitExpression",i,"argument>expression"),j("YieldExpression",pt,"argument>expression, delegate=nested"),fe(Ze,function(e){return Ae("Program",e)}),fe(AST_LambdaDefinition,function(e){var t=e.argnames.map(me);return e.rest&&t.push({type:"RestElement",argument:me(e.rest)}),{type:"FunctionDeclaration",id:me(e.name),async:is_async(e),generator:ct(e),params:t,body:Ae("BlockStatement",e)}}),fe(te,function(e){var t=e.argnames.map(me);return e.rest&&t.push({type:"RestElement",argument:me(e.rest)}),is_arrow(e)?{type:"ArrowFunctionExpression",async:is_async(e),params:t,body:e.value?me(e.value):Ae("BlockStatement",e)}:{type:"FunctionExpression",id:me(e.name),async:is_async(e),generator:ct(e),params:t,body:Ae("BlockStatement",e)}}),fe(F,function(e){return{type:"ClassDeclaration",id:me(e.name),superClass:me(e.extends),body:{type:"ClassBody",body:e.properties.map(me)}}}),fe(T,function(e){return{type:"ClassExpression",id:me(e.name),superClass:me(e.extends),body:{type:"ClassBody",body:e.properties.map(me)}}}),fe(AST_ClassGetter,S("get")),fe(AST_ClassSetter,S("set")),fe(AST_ClassMethod,S("method")),fe(AST_ClassField,function(e){var t=e.key instanceof ie;return{type:"PropertyDefinition",computed:t,key:t?me(e.key):e.private?{type:"PrivateIdentifier",name:e.key.slice(1)}:{type:"Literal",value:e.key},static:e.static,value:me(e.value)}}),fe(AST_ClassInit,function(e){return Ae("StaticBlock",e.value)}),fe(AST_ForAwaitOf,_(!0)),fe(W,_(!1)),fe(L,function(e){return{type:"ExpressionStatement",expression:re(e,{type:"Literal",value:e.value})}}),fe(Ce,function(e){return{type:"SwitchCase",test:me(e.expression),consequent:e.body.map(me)}}),fe(tt,function(e){return{type:"TryStatement",block:_e(e),handler:me(e.bcatch),guardedHandlers:[],finalizer:me(e.bfinally)}}),fe(m,function(e){return{type:"CatchClause",param:me(e.argname),guard:null,body:_e(e)}}),fe(U,function(e){return{type:"ExportNamedDeclaration",declaration:me(e.body)}}),fe(AST_ExportDefault,function(e){return{type:"ExportDefaultDeclaration",declaration:me(e.body)}}),fe(AST_ExportForeign,function(e){if("*"==e.keys[0].value)return{type:"ExportAllDeclaration",exported:"*"==e.aliases[0].value?null:Se(e.aliases[0]),source:me(e.path)};for(var t=[],n=0;n<e.aliases.length;n++)t.push(re({start:e.keys[n].start,end:e.aliases[n].end},{type:"ExportSpecifier",local:Se(e.keys[n]),exported:Se(e.aliases[n])}));return{type:"ExportNamedDeclaration",specifiers:t,source:me(e.path)}}),fe(AST_ExportReferences,function(e){return{type:"ExportNamedDeclaration",specifiers:e.properties.map(function(e){return re({start:e.start,end:e.alias.end},{type:"ExportSpecifier",local:me(e),exported:Se(e.alias)})})}}),fe(J,function(e){var t=e.properties?e.properties.map(function(e){return re({start:e.key.start,end:e.end},{type:"ImportSpecifier",local:me(e),imported:Se(e.key)})}):[];return e.all&&t.unshift(re(e.all,{type:"ImportNamespaceSpecifier",local:me(e.all)})),e.default&&t.unshift(re(e.default,{type:"ImportDefaultSpecifier",local:me(e.default)})),{type:"ImportDeclaration",specifiers:t,source:me(e.path)}}),fe(P,function(e){return{type:"VariableDeclaration",kind:e.TYPE.toLowerCase(),declarations:e.definitions.map(me)}}),fe(Te,function(e){var t=e instanceof Ee,n={type:"MemberExpression",object:me(e.expression),computed:t,optional:e.optional,property:t?me(e.property):{type:"Identifier",name:e.property}};return e.terminal?{type:"ChainExpression",expression:n}:n}),fe(rt,function(e){return{type:"++"==e.operator||"--"==e.operator?"UpdateExpression":"UnaryExpression",operator:e.operator,prefix:e instanceof ot,argument:me(e.expression)}}),fe(u,function(e){return{type:"&&"==e.operator||"||"==e.operator?"LogicalExpression":"BinaryExpression",left:me(e.left),operator:e.operator,right:me(e.right)}}),fe(n,function(e){return{type:"ArrayExpression",elements:e.elements.map(me)}}),fe(AST_DestructuredArray,function(e){var t=e.elements.map(me);return e.rest&&t.push({type:"RestElement",argument:me(e.rest)}),{type:"ArrayPattern",elements:t}}),fe(AST_DestructuredKeyVal,function(e){var t=e.key instanceof ie;return{type:"Property",kind:"init",computed:t,key:t?me(e.key):{type:"Literal",value:e.key},value:me(e.value)}}),fe(AST_DestructuredObject,function(e){var t=e.properties.map(me);return e.rest&&t.push({type:"RestElement",argument:me(e.rest)}),{type:"ObjectPattern",properties:t}}),fe(de,function(e){var t,n=e.key instanceof ie,r=n?me(e.key):{type:"Literal",value:e.key};return e instanceof ce?t="init":e instanceof pe?t="get":e instanceof ye&&(t="set"),{type:"Property",kind:t,computed:n,method:e instanceof AST_ObjectMethod,key:r,value:me(e.value)}}),fe(Fe,function(e){var t=e.definition();return{type:"Identifier",name:t&&t.mangled_name||e.name}}),fe(ke,function(){return{type:"Super"}}),fe(Je,function(){return{type:"ThisExpression"}}),fe(oe,function(){return{type:"MetaProperty",meta:{type:"Identifier",name:"new"},property:{type:"Identifier",name:"target"}}}),fe(be,function(e){var t=e.value.toString().match(/\/([gimuy]*)$/)[1],n="/"+e.value.raw_source+"/"+t;return{type:"Literal",value:n,raw:n,regex:{pattern:e.value.raw_source,flags:t}}}),fe(s,function(e){var t=e.value;return{type:"Literal",bigint:t.slice(0,-1),raw:t}}),fe(c,A),fe(x,A),fe(se,A),fe(o,function(e){return{type:"Identifier",name:String(e.value)}}),fe(AST_Template,function(e){var t=e.strings.length-1,n={type:"TemplateLiteral",expressions:e.expressions.map(me),quasis:e.strings.map(function(e,n){return{type:"TemplateElement",tail:n==t,value:{raw:e}}})};return e.tag?{type:"TaggedTemplateExpression",tag:me(e.tag),quasi:n}:n}),l.DEFMETHOD("to_mozilla_ast",p.prototype.to_mozilla_ast),K.DEFMETHOD("to_mozilla_ast",return_null),ie.DEFMETHOD("to_mozilla_ast",function(){throw new Error("Cannot convert AST_"+this.TYPE)});var N=null;function R(t){N.push(t);var n=null;if(t){if(!HOP(e,t.type))throw new Error("Unsupported type: "+t.type);n=e[t.type](t)}return N.pop(),n}function Q(e){return new xe({start:w(e),value:M(e),end:C(e)})}function re(e,t){var n=e.start,r=e.end;return null!=n.pos&&null!=r.endpos&&(t.range=[n.pos,r.endpos]),n.line&&(t.loc={start:{line:n.line,column:n.col},end:r.endline?{line:r.endline,column:r.endcol}:null},n.file&&(t.loc.source=n.file)),t}function fe(e,t){e.DEFMETHOD("to_mozilla_ast",function(){return re(this,t(this))})}function me(e){return null!=e?e.to_mozilla_ast():null}function Se(e){return is_identifier_string(e.value)?re(e,{type:"Identifier",name:e.value}):me(e)}function _e(e){return{type:"BlockStatement",body:e.body.map(me)}}function Ae(e,t){var n=t.body.map(me);return t.body[0]instanceof ge&&t.body[0].body instanceof xe&&n.unshift(me(new B(t.body[0]))),{type:e,body:n}}ie.from_mozilla_ast=function(e){var t=N;N=[];var n=R(e);return N=t,n.walk(new TreeWalker(function(e){if(e instanceof ee){for(var t,n=0;(t=this.parent(n))&&!(t instanceof AST_Scope);n++)if(t instanceof Z&&t.label.name==e.name){e.thedef=t.label;break}if(!e.thedef){var r=e.start;js_error("Undefined label "+e.name,r.file,r.line,r.col,r.pos)}}})),n}}()});
//# sourceMappingURL=sourcemaps/mozilla-ast.js.map
